* dotfiles

** ä¸€ã€é…ç½®è¯´æ˜

| åºå· | å·¥å…·                      | æè¿°        |
|------+---------------------------+-------------|
|    1 | æ¡Œé¢æœåŠ¡å™¨(desktop-server) | ~X11~       |
|    2 | çª—ç®¡(wm)                  | ~i3~        |
|    3 | å‘å°„å°(launcher)          | ~rofi~      |
|    4 | æ··ç”¨å™¨(compositor)        | ~picom~     |
|    5 | (ä¸»è¦)ç¼–è¾‘å™¨(editor)       | ~GNU Emacs~ |
|    6 | ç¼–è¾‘å™¨(editor)            | ~vim~       |
|    7 | å£³(sh)                    | ~bash~      |
|    8 | ç³»ç»Ÿä¿¡æ¯(fetch)            | ~fastfetch~ |


** äºŒã€é…ç½®å‰æ

*** 1. æ–‡ä»¶ç»“æ„
#+begin_src
ğŸ”§ ~/.bashrc
ğŸ”§ ~/.bash_profile
ğŸ“ ~/.config
   ğŸ“ alacritty
      ğŸ”§ alacritty.toml
   ğŸ“ emacs
      ğŸ”§ init.el
      ğŸ“ elisp
         ğŸ“ basic
            ğŸ”§ basic-elpa.el
            ğŸ”§ basic-init.el
            ğŸ”§ basic-mode.el
            ğŸ”§ basic-path.el      
         ğŸ“ custom
            ğŸ”§ custom-defun.el
         ğŸ“ enhance
            ğŸ”§ enhance-cdlatex.el
            ğŸ”§ enhance-deadgrep.el
            ğŸ”§ enhance-dirvish.el
            ğŸ”§ enhance-history.el
            ğŸ”§ enhance-indentline.el
            ğŸ”§ enhance-magit.el
            ğŸ”§ enhance-minibuffer.el
            ğŸ”§ enhance-pdftools.el
            ğŸ”§ enhance-restart.el
            ğŸ”§ enhance-smartparens.el
            ğŸ”§ enhance-tabs.el
            ğŸ”§ enhance-term.el
            ğŸ”§ enhance-unre.el            
         ğŸ“ hooks
            ğŸ”§ hooks-hook.el               
         ğŸ“ im
            ğŸ”§ im-telega.el                  
         ğŸ“ key
            ğŸ”§ key-keybindings.el                     
         ğŸ“ note
            ğŸ”§ note-auctex.el
            ğŸ”§ note-orgmode.el
            ğŸ”§ note-orgroam.el      
         ğŸ“ ui
            ğŸ“ decorate
               ğŸ”§ ui-decorate-dashboard.el
            ğŸ“ font
               ğŸ”§ ui-font-sauce.el      
            ğŸ“ icon
               ğŸ”§ ui-icon-nerdfont.el      
            ğŸ“ modeline
               ğŸ”§ ui-modeline-bar.el
               ğŸ”§ battery-percentage.sh
               ğŸ”§ calendar-day.sh
               ğŸ”§ calendar-month.sh
               ğŸ”§ calendar-week.sh
               ğŸ”§ cpu-temperature.sh
               ğŸ”§ disk-usage.sh
               ğŸ”§ distribution.sh
               ğŸ”§ pacman-packages.sh
               ğŸ”§ ram-usage.sh
               ğŸ”§ time-hour.sh
               ğŸ”§ time-minute.sh
               ğŸ”§ weather-situation.sh                  
            ğŸ“ theme
               ğŸ”§ ui-theme-dark.el
               ğŸ”§ ui-theme-light.el         
         ğŸ“ zprogramming
            ğŸ“ cmp
               ğŸ”§ zprogramming-cmp-corfu.el
            ğŸ“ lsp
               ğŸ”§ zprogramming-lsp-eglot.el
            ğŸ“ mode
               ğŸ”§ zprogramming-mode-cmake.el
            ğŸ“ snips
               ğŸ”§ zprogramming-snips-yasnippet.el
            ğŸ“ ts
               ğŸ”§ zprogramming-ts-treesitter.el      
   ğŸ“ fastfetch
      ğŸ”§ ff.jsonc
   ğŸ“ i3
      ğŸ”§ config
   ğŸ“ picom
      ğŸ”§ picom.conf
   ğŸ“ vim
      ğŸ”§ vimrc
   ğŸ“ rofi
      ğŸ”§ config.rasi
      ğŸ”§ forest.rasi
#+end_src


*** 2. å­—ä½“è¡¥ä¸
é¦–å…ˆï¼Œåœ¨ [[https://github.com/ryanoasis/nerd-fonts?tab=readme-ov-file#font-patcher][archive]] è¿™é‡Œä¸‹è½½ nf ä½œè€…çš„ font-patcher

ç„¶åï¼Œåœ¨ [[https://github.com/kitevnn/dotfiles-archlinux/tree/main/res/font][Sauce Code Pro Semibold Nerd Font Complete Mono.ttf]] è¿™é‡Œä¸‹è½½æ‰€éœ€å­—ä½“

ç„¶åå¼€å§‹æ‰“è¡¥ä¸
#+begin_src sh
  # å®‰è£…æ‰“è¡¥ä¸å·¥å…·
  sudo pacman -S fontforge

  # æ‰“è¡¥ä¸
  fontforge --script ./font-patcher --complete 'Sauce Code Pro Semibold Nerd Font Complete Mono.ttf'

  # åˆ›å»ºå­—ä½“æ–‡ä»¶å¤¹
  mkdir -p ~/.local/share/fonts/    
  mv SauceCodeProNerdFontCompleteMonoNerdFont-SemiBold.ttf ~/.local/share/fonts/

  # åˆ·æ–°å­—ä½“ç¼“å­˜
  sudo fc-cache -f
#+end_src


*** 3. ä¾èµ–å®‰è£…

**** GNU Emacs
åˆ° [[https://alpha.gnu.org/gnu/emacs/pretest/][alpha.gnu.org]] ä¸‹è½½å½“å‰æœ€æ–°ç‰ˆçš„ GNU Emacs çš„æºç ï¼Œå¹¶æŒ‰ (è‹¥ä¸èƒ½ ~./configure --option~ åˆ™å…ˆè¿è¡Œ ~./autogen.sh~)
#+begin_src sh
  # æ·»åŠ ç¼–è¯‘é€‰é¡¹
  ./configure --sysconfdir=/etc --prefix=/usr --libexecdir=/usr/lib --with-tree-sitter --localstatedir=/var --disable-build-details --with-harfbuzz --with-libsystemd --with-modules --with-x-toolkit=no --with-cairo 'CFLAGS=-march=x86-64 -mtune=generic -O2 -pipe -fno-plt -fexceptions         -Wp,-D_FORTIFY_SOURCE=3 -Wformat -Werror=format-security         -fstack-clash-protection -fcf-protection         -fno-omit-frame-pointer -mno-omit-leaf-frame-pointer -g -ffile-prefix-map=/build/emacs/src=/usr/src/debug/emacs -flto=auto' 'LDFLAGS=-Wl,-O1 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now          -Wl,-z,pack-relative-relocs -flto=auto'  

  # ç¼–è¯‘GNU Emacs
  make

  # å®‰è£…GNU Emacs
  sudo make install
#+end_src

tdå®‰è£…
#+begin_src sh
  git clone https://github.com/tdlib/td.git
  mkdir build
  cd build
  cmake ../
  make -jN
  sudo make install  
#+end_src

texliveå®‰è£…
#+begin_src sh
  sudo pacman -S texlive
  
#+end_src

å¤©æ°”modelineä¿¡æ¯
#+begin_src sh :tangle ~/.config/emacs/archive/weather-wttr.sh
  # æ¯”å¦‚å¦‚æœæ‚¨åœ¨å¹¿å·(Guangzhou)çš„è¯ï¼Œäºæ˜¯å°±æ˜¯è¿™æ ·çš„
  # curl wttr.in/Guangzhou > /home/æ‚¨çš„ç”¨æˆ·å/.config/emacs/archive/weather  
#+end_src

è®¾ç½®Auto saving.....doneçš„ç›®å½•
#+begin_src sh
  # åˆ›å»ºåä¸º saves çš„å¤‡ä»½æ–‡ä»¶å¤¹
  cd ~/.config/emacs/
  mkdir -p saves  
#+end_src

è®¾ç½®org-roamçš„ç›®å½•
#+begin_src sh
  # åˆ›å»ºåä¸º .orgroam çš„ç¬”è®°æ¼«æ¸¸æ–‡ä»¶å¤¹
  mkdir -p ~/.orgroam
#+end_src

**** i3
fehå®‰è£…
#+begin_src sh
  sudo pacman -S i3  
  sudo pacman -S feh
#+end_src


**** vim
plug.vimå®‰è£…
#+begin_src sh
  curl -fLo ~/.config/vim/autoload/plug.vim --create-dirs \
      https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim  
#+end_src

éšåè¿›å…¥ vim ç•Œé¢åï¼ŒæŒ‰ä¸‹ ~<leader> + I~ æ¥å®‰è£…å‰©ä½™æ’ä»¶



*** 4. æ‚é¡¹(å¯çœ‹å¯ä¸çœ‹)

**** è¾“å…¥æ³•å®‰è£…
å®‰è£…fcitx5å…¨å®¶æ¡¶
#+begin_src sh
sudo pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-material-color
#+end_src

fcitx5å…¨å®¶æ¡¶é…ç½®
#+begin_src sh
sudo vim /etc/environment
# å¹¶æ·»åŠ ä¸‹é¢å†…å®¹
# + GTK_IM_MODULE=fcitx
# + QT_IM_MODULE=fcitx
# + XMODIFIERS=@im=fcitx
# + SDL_IM_MODULE=fcitx
#+end_src

fcitx5å…¨å®¶æ¡¶é…ç½®
#+begin_quote
ç„¶ååœ¨KDEä¸‹(å¦‚æœæ‚¨ä½¿ç”¨çš„ä¹Ÿæ˜¯KDE plasma 6çš„è¯)ï¼Œä¾æ¬¡ç‚¹å‡» [ç³»ç»Ÿè®¾ç½®] > [é”®ç›˜] > [è™šæ‹Ÿé”®ç›˜] > [é€‰æ‹©Fcitx5]
#+end_quote


*** 5. é…ç½®æ–‡ä»¶

**** (1) alacritty
***** æ–‡ä»¶ç»“æ„
#+begin_quote
ğŸ”§ alacritty.toml
#+end_quote

***** æ–‡ä»¶é…ç½®
****** ğŸ”§ alacritty.toml 
#+begin_src toml :tangle ~/.config/alacritty/alacritty.toml
  general.working_directory = "/home/une/æ¡Œé¢/back/archlinux/org"


  [font]
  size = 12
  normal.family = "SauceCodeProNerdFontCompleteMono Nerd Font"
  normal.style = "SemiBold"

  [terminal.shell]
  program = "/usr/bin/bash"

  [window]
  opacity = 0.81
  decorations = "None"
  dynamic_title = false
  decorations_theme_variant = "Dark"
  startup_mode = "Maximized"
  [window.padding]
  x = 0
  y = 0

  [colors]
  primary.background = "#2c2c2c"
  primary.foreground = "#dcdcdc"
  normal.black       = "#3F3F3F"
  normal.red         = "#FD5760"
  normal.green       = "#60B48A"
  normal.yellow      = "#DFAF8F"
  normal.blue        = "#9AB8D7"
  normal.magenta     = "#DC8CC3"
  normal.cyan        = "#8CD0D3"
  normal.white       = "#DCDCDC"
  bright.black       = "#709080"
  bright.red         = "#DCA3A3"
  bright.green       = "#72D5A3"
  bright.yellow      = "#16F0BB"
  bright.blue        = "#94BFF3"
  bright.magenta     = "#EC93D3"
  bright.cyan        = "#93E0E3"
  bright.white       = "#FFFFFF"

  [keyboard]
  bindings = [
    { mods = "Alt | Shift", key = "P", action = "ScrollPageUp" },
    { mods = "Alt | Shift", key = "N", action = "ScrollPageDown" },
    { mods = "Alt | Shift", key = "W", action = "Copy" },        
    { mods = "Alt | Shift", key = "Y", action = "Paste" },
    { mods = "Alt | Shift", key = "S", action = "SearchForward" },
    { mods = "Alt | Shift", key = "R", action = "SearchBackward" },
    { mods = "Alt | Shift", key = "V", action = "ToggleViMode" },
    { mods = "Alt | Shift", key = "G", action = "SearchCancel" },
    { mods = "Control", key = "F", mode = "Vi", action = "Right" },
    { mods = "Control", key = "B", mode = "Vi", action = "Left" },
    { mods = "Control", key = "N", mode = "Vi", action = "Down" },
    { mods = "Control", key = "P", mode = "Vi", action = "Up" },
    { mods = "Control", key = "A", mode = "Vi", action = "First" },
    { mods = "Control", key = "E", mode = "Vi", action = "Last" },
    { mods = "Control", key = "G", mode = "Vi", action = "ToggleNormalSelection" },
    { mods = "Alt", key = "F", mode = "Vi", action = "SemanticRight" },
    { mods = "Alt", key = "B", mode = "Vi", action = "SemanticLeft" },
  ]  
#+end_src


**** (2) bash
***** æ–‡ä»¶ç»“æ„
#+begin_quote
ğŸ”§ .bashrc
ğŸ”§ .bash_profile
#+end_quote

***** æ–‡ä»¶é…ç½®
****** ğŸ”§ .bashrc 
#+begin_src sh :tangle ~/.bashrc
  #
  # ~/.bashrc
  #
  # PS1='[\u@\h \W]\$ '
  # If not running interactively, don't do anything
  [[ $- != *i* ]] && return

  alias ls='ls --color=auto'
  alias l='ls -la --color=auto'
  alias grep='grep --color=auto'
  alias rm='rm -i'
  alias ec='emacs -nw'
  alias ff='fastfetch --load-config ~/.config/fastfetch/ff.jsonc'
  alias caps='setxkbmap -option "ctrl:nocaps"'
  alias gwe='bash /home/une/.config/emacs/archive/weather-wttr.sh'
  source ~/.bash_profile  
#+end_src

****** ğŸ”§ .bash_profile
#+begin_src sh :tangle ~/.bash_profile
  #
  # ~/.bash_profile
  #
  # [[ -f ~/.bashrc ]] && . ~/.bashrc

  export EMACS="/home/une/.config/emacs"
  export org="/home/une/æ¡Œé¢/back/archlinux/org"
  export gtd="/home/une/æ¡Œé¢/back/archlinux/org/GTD"
  export subject="/home/une/æ¡Œé¢/back/archlinux/org/my/subject"
  export pic="/home/une/å›¾ç‰‡/å±å¹•æˆªå›¾"
  export blog="/home/une/æ¡Œé¢/back/archlinux/org/my/blog/colfwe.github.io"
  export dotfiles="/home/une/.gi/dotfiles-archlinux"  
#+end_src


**** (3) GNU Emacs

***** æ–‡ä»¶ç»“æ„
#+begin_src
ğŸ”§ init.el
ğŸ“ elisp
   ğŸ“ basic
      ğŸ”§ basic-elpa.el
      ğŸ”§ basic-file.el
      ğŸ”§ basic-init.el
      ğŸ”§ basic-mode.el
      ğŸ”§ basic-path.el      
   ğŸ“ custom
      ğŸ”§ custom-defun.el
   ğŸ“ enhance
      ğŸ”§ enhance-cdlatex.el
      ğŸ”§ enhance-deadgrep.el
      ğŸ”§ enhance-dirvish.el
      ğŸ”§ enhance-history.el
      ğŸ”§ enhance-indentline.el
      ğŸ”§ enhance-magit.el
      ğŸ”§ enhance-minibuffer.el
      ğŸ”§ enhance-pdftools.el
      ğŸ”§ enhance-restart.el
      ğŸ”§ enhance-smartparens.el
      ğŸ”§ enhance-tabs.el
      ğŸ”§ enhance-term.el
      ğŸ”§ enhance-unre.el            
   ğŸ“ hooks
      ğŸ”§ hooks-hook.el               
   ğŸ“ im
      ğŸ”§ im-telega.el                  
   ğŸ“ key
      ğŸ”§ key-keybindings.el                     
   ğŸ“ note
      ğŸ”§ note-auctex.el
      ğŸ”§ note-orgmode.el
      ğŸ”§ note-orgroam.el      
   ğŸ“ ui
      ğŸ“ decorate
         ğŸ”§ ui-decorate-dashboard.el
      ğŸ“ font
         ğŸ”§ ui-font-sauce.el      
      ğŸ“ icon
         ğŸ”§ ui-icon-nerdfont.el      
      ğŸ“ modeline
         ğŸ”§ ui-modeline-bar.el
         ğŸ”§ battery-percentage.sh
         ğŸ”§ calendar-day.sh
         ğŸ”§ calendar-month.sh
         ğŸ”§ calendar-week.sh
         ğŸ”§ cpu-temperature.sh
         ğŸ”§ disk-usage.sh
         ğŸ”§ distribution.sh
         ğŸ”§ pacman-packages.sh
         ğŸ”§ ram-usage.sh
         ğŸ”§ time-hour.sh
         ğŸ”§ time-minute.sh
         ğŸ”§ weather-situation.sh                  
      ğŸ“ theme
         ğŸ”§ ui-theme-dark.el
         ğŸ”§ ui-theme-light.el         
   ğŸ“ zprogramming
      ğŸ“ cmp
         ğŸ”§ zprogramming-cmp-corfu.el
      ğŸ“ lsp
         ğŸ”§ zprogramming-lsp-eglot.el
      ğŸ“ mode
         ğŸ”§ zprogramming-mode-cmake.el
      ğŸ“ snips
         ğŸ”§ zprogramming-snips-yasnippet.el
      ğŸ“ ts
         ğŸ”§ zprogramming-ts-treesitter.el
#+end_src

***** æ–‡ä»¶é…ç½®
****** ğŸ”§ init.el  
#+begin_src elisp :tangle ~/.config/emacs/init.el
  ;; =======================================
  ;; 
  ;; è·¯å¾„åŠ è½½
  ;; 
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/basic")))
  (require 'basic-path)
  (require 'basic-file)


  ;; =======================================
  ;; 
  ;; æ¨¡å—åŠ è½½
  ;; 
  ;; =======================================
  (require 'custom-defun)
  (require 'basic-elpa)
  (require 'basic-init)
  (require 'basic-mode)
  (require 'enhance-cdlatex)
  (require 'enhance-deadgrep)
  (require 'enhance-dirvish)
  (require 'enhance-minibuffer)
  (require 'enhance-indentline)
  (require 'enhance-magit)
  (require 'enhance-pdftools)
  (require 'enhance-restart)
  (require 'enhance-smartparens)
  (require 'enhance-tabs)
  (require 'enhance-term)
  (require 'enhance-history)
  (require 'ui-font-sauce)
  (require 'ui-icon-nerdfont)
  (require 'ui-theme-light)
  (require 'ui-theme-dark)
  (require 'ui-decorate-dashboard)
  (require 'ui-modeline-bar)
  (require 'note-auctex)
  (require 'note-orgmode)
  (require 'note-orgroam)
  (require 'zprogramming-cmp-corfu)
  (require 'zprogramming-lsp-eglot)
  (require 'zprogramming-snips-yasnippet)
  (require 'zprogramming-ts-treesitter)
  (require 'zprogramming-mode-cmake)
  (require 'im-telega)
  (require 'key-keybindings)

  ;; =======================================
  ;; 
  ;; é’©å­åŠ è½½
  ;; 
  ;; =======================================
  (require 'hooks-hook)
  (custom-set-variables
   ;; custom-set-variables was added by Custom.
   ;; If you edit it by hand, you could mess it up, so be careful.
   ;; Your init file should contain only one such instance.
   ;; If there is more than one, they won't work right.
   '(custom-safe-themes
     '("1781e8bccbd8869472c09b744899ff4174d23e4f7517b8a6c721100288311fa5"
       "3001510be1be4a38508ff07633e97b810c0a52c6fa2f4c7153d22cc7596d9172"
       "e7820b899036ae7e966dcaaec29fd6b87aef253748b7de09e74fdc54407a7a02" default))
   '(package-selected-packages
     '(auctex bliss-theme cdlatex centaur-tabs cmake-mode corfu dashboard deadgrep
              dirvish eat embark-consult highlight-indent-guides magit marginalia
              nano-theme nerd-icons-corfu nerd-icons-dired nerd-icons-ibuffer
              orderless org org-roam-ui pdf-tools pkg-info posframe
              rainbow-identifiers restart-emacs smartparens telega
              tree-sitter-langs valign vertico vertico-posframe yasnippet-snippets)))
  (custom-set-faces
   ;; custom-set-faces was added by Custom.
   ;; If you edit it by hand, you could mess it up, so be careful.
   ;; Your init file should contain only one such instance.
   ;; If there is more than one, they won't work right.
   )  
#+end_src

****** ğŸ“ elisp ğŸ“ basic ğŸ”§ basic-elpa.el 
#+begin_src elisp :tangle ~/.config/emacs/elisp/basic/basic-elpa.el
  ;; =======================================
  ;; æºè®¾ç½® basic-elpa.el 
  ;; =======================================
  (use-package package
    :init 
    (setq package-archives 
          '(("melpa" . "https://melpa.org/packages/")         
            ("gnu" . "https://elpa.gnu.org/packages/")
            ("nongnu" . "https://elpa.nongnu.org/nongnu/")))
    (setq package-enable-at-startup nil)
    (setq use-package-expand-minimally t
          use-package-verbose t)
    :autoload
    (package-initialize))


  (provide 'basic-elpa)  
#+end_src

****** ğŸ“ elisp ğŸ“ basic ğŸ”§ basic-file.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/basic/basic-file.el
  ;; =======================================
  ;; æ–‡ä»¶è·¯å¾„ basic-file.el
  ;; =======================================


  ;; =======================================
  ;; å…³äºdirectoryæ–‡ä»¶å¤¹
  ;; =======================================
  (defvar directory-default-directory "~/æ¡Œé¢/back/archlinux/org/")               ; GNU Emacsçš„èµ·å§‹ç›®å½•
  (defvar directory-backup-directory-alist "~/.config/emacs/saves/")              ; æ¢å¤æ–‡ä»¶çš„ä¿å­˜ç›®å½•
  (defvar directory-modeline-path-suffix "elisp/ui/modeline/")                    ; emacsé…ç½®æ–‡ä»¶è·¯å¾„çš„modelineéƒ¨åˆ†
  (defvar directory-org-roam-directory "~/æ¡Œé¢/back/archlinux/org/GTD/roam/")     ; org-roamçš„ä¿å­˜ç›®å½•


  ;; =======================================
  ;; å…³äºfileæ–‡ä»¶
  ;; =======================================
  (defvar file-org-agenda-files "~/æ¡Œé¢/back/archlinux/org/GTD/agenda/2025.org")  ; org-agendaçš„GTDæ–‡ä»¶


  (provide 'basic-file)  
#+end_src

****** ğŸ“ elisp ğŸ“ basic ğŸ”§ basic-init.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/basic/basic-init.el
  ;; =======================================
  ;; åŸºæœ¬é…ç½® basic-init.el
  ;; =======================================

  ;; =======================================
  ;; å…³é—­é»˜è®¤æ¬¢è¿ç•Œé¢
  ;; =======================================
  (setq inhibit-startup-screen t)


  ;; =======================================
  ;; å…³é—­é»˜è®¤å·¥å…·æ æ˜¾ç¤º
  ;; =======================================
  (tool-bar-mode -1)
  (menu-bar-mode -1)
  (scroll-bar-mode -1)


  ;; =======================================
  ;; å…³é—­scratchä¸Messagesçš„Buffer
  ;; =======================================
  (setq-default message-log-max nil)


  ;; =======================================
  ;; y or n
  ;; =======================================
  (fset 'yes-or-no-p 'y-or-n-p)


  ;; =======================================
  ;; ç¼–ç è®¾ç½®
  ;; =======================================
  (prefer-coding-system 'utf-8)


  ;; =======================================
  ;; ibufferæ ¼å¼è®¾ç½®
  ;; =======================================
  (setq ibuffer-formats
        '((mark modified read-only locked " " (name 30 18 :left :elide) " "
                (size 9 -1 :right) " " (mode 16 16 :left :elide) " " filename-and-process)
          (mark " " (name 16 -1) " " filename)))


  ;; =======================================
  ;; èµ·å§‹ç›®å½•
  ;; =======================================
  (setq default-directory directory-default-directory)                  ; GNU Emacsçš„èµ·å§‹ç›®å½•


  ;; =======================================
  ;; å…³äºagenda
  ;; =======================================
  (setq org-agenda-files (list file-org-agenda-files))                  ; org-agendaçš„GTDæ–‡ä»¶ï¼Œå¤šä¸ªæ–‡ä»¶è¯·ç”¨ (list file-org-agenda-files-1 file-org-agenda-files-2)


  ;; =======================================
  ;; è‡ªå®šä¹‰æ¢å¤æ–‡ä»¶é…ç½®(Auto saving...done)
  ;; =======================================
  (setq backup-directory-alist 
        `(("." . ,directory-backup-directory-alist)))                   ; ç»Ÿä¸€è®¾ç½®æ¢å¤æ–‡ä»¶çš„ä¿å­˜ç›®å½•ï¼Œè€Œä¸æ±¡æŸ“å½“å‰åŒçº§ç›®å½•
  (setq backup-by-copying t)                                            ; è®¾ç½®ä¿å­˜å½¢å¼
  (setq delete-old-versions t
    kept-new-versions 6
    kept-old-versions 2
    version-control t)                                                  ; è®¾ç½®ä¿å­˜ç‰ˆæœ¬æ§åˆ¶


  ;; =======================================
  ;; 1è¡Œ80ä¸ªå­—ç¬¦
  ;; =======================================
  (setq-default fill-column 80)


  (provide 'basic-init)  
#+end_src

****** ğŸ“ elisp ğŸ“ basic ğŸ”§ basic-mode.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/basic/basic-mode.el
  ;; =======================================
  ;; æ¨¡å¼åˆå§‹åŒ– basic-mode.el
  ;; =======================================
  (add-to-list 'auto-mode-alist '("\\.el\\'"  . emacs-lisp-mode))


  (provide 'basic-mode)  
#+end_src

****** ğŸ“ elisp ğŸ“ basic ğŸ”§ basic-path.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/basic/basic-path.el
  ;; =======================================
  ;; å…³äºè·¯å¾„åŠ è½½ basic-path.el
  ;; =======================================

  ;; =======================================
  ;; å…³äºåŸºæœ¬è®¾ç½®è·¯å¾„
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/basic")))
  ;; =======================================
  ;; å…³äºè‡ªå®šä¹‰å‡½æ•°è·¯å¾„
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                 (concat user-emacs-directory "elisp/custom")))
  ;; =======================================
  ;; å…³äºä½“éªŒå¢å¼ºè·¯å¾„
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                 (concat user-emacs-directory "elisp/enhance")))
  ;; =======================================
  ;; å…³äºuiè·¯å¾„
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/ui/font")))
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/ui/icon")))
  (add-to-list 'load-path
               (expand-file-name 
                 (concat user-emacs-directory "elisp/ui/theme")))
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/ui/decorate")))
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/ui/modeline")))
  ;; =======================================
  ;; å…³äºç¬”è®°è·¯å¾„
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                 (concat user-emacs-directory "elisp/note")))
  ;; =======================================
  ;; å…³äºç¼–ç¨‹è·¯å¾„
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                 (concat user-emacs-directory "elisp/zprogramming/cmp")))
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/zprogramming/lsp")))
  (add-to-list 'load-path
               (expand-file-name 
                 (concat user-emacs-directory "elisp/zprogramming/snips")))
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/zprogramming/ts")))
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/zprogramming/mode")))
  ;; =======================================
  ;; å…³äºå¿«æ·é”®è®¾ç½®
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/key")))
  ;; =======================================
  ;; å…³äºå¿«æ·é”®è®¾ç½®
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/hooks")))
  ;; =======================================
  ;; å…³äºinstant-messaging(IM)è®¾ç½®
  ;; =======================================
  (add-to-list 'load-path
               (expand-file-name 
                (concat user-emacs-directory "elisp/im")))


  (provide 'basic-path)  
#+end_src

****** ğŸ“ elisp ğŸ“ custom ğŸ”§ custom-defun.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/custom/custom-defun.el
  ;; =======================================
  ;; è‡ªå®šä¹‰ custom-defun.el
  ;; =======================================

  ;; =======================================
  ;; åˆ‡æ¢ä¸»é¢˜
  ;; =======================================
  (defun my-toggle-light-theme ()
    "åˆ‡æ¢ä¸»é¢˜åˆ°nano-light"
    (lambda () (interactive)    
      (load-theme     'nano-light t)))


  ;; =======================================
  ;; å…‰æ ‡ç§»åŠ¨
  ;; =======================================
  (defun my-move-next-five-lines ()
    "å…‰æ ‡å‘ä¸‹ç§»åŠ¨5è¡Œ"
    (interactive)
    (next-line 5))
  (defun my-move-prev-five-lines ()
    "å…‰æ ‡å‘ä¸Šç§»åŠ¨5è¡Œ"
    (interactive)
    (previous-line 5))


  ;; =======================================
  ;; çª—å£ç§»åŠ¨
  ;; =======================================
  (defun my-resize-top-five-unit ()
    "å½“å‰çª—å£å‘ä¸Š5ä¸ªå•ä½"
    (interactive)
    (shrink-window 5))
  (defun my-resize-bottom-five-unit ()
    "å½“å‰çª—å£å‘ä¸‹5ä¸ªå•ä½"
    (interactive)
    (enlarge-window 5))
  (defun my-resize-left-five-unit ()
    "å½“å‰çª—å£å‘å·¦5ä¸ªå•ä½"
    (interactive)
    (shrink-window-horizontally 5))
  (defun my-resize-right-five-unit ()
    "å½“å‰çª—å£å‘å³5ä¸ªå•ä½"
    (interactive)
    (enlarge-window-horizontally 5))


  ;; =======================================
  ;; è½¯ç©ºæ ¼: ä¿è¯æ¯æ¬¡TABéƒ½æ˜¯2ä¸ªå­—ç¬¦å®½åº¦çš„æ•´æ•°å€å•ä½
  ;; =======================================
  (defun my-tab-stops-generate (&optional width max)
    "Return a sequence suitable for `tab-stop-list'."
    (let* ((max-column (or max 200))
           (tab-width (or width tab-width))
           (count (/ max-column tab-width)))
      (number-sequence tab-width (* tab-width count) tab-width)))
  ;; è½¯ç©ºæ ¼
  (setq-default indent-tabs-mode nil)
  (setq tab-width 2)
  (setq tab-stop-list (my-tab-stops-generate))


  ;; =======================================
  ;; è‡ªåŠ¨æ·»åŠ æ–‡æœ¬
  ;; =======================================
  (defun my-org-add-latex-header ()
    "åœ¨org-modeé‡Œæ·»åŠ å¯èƒ½éœ€è¦çš„LaTeX Headeræ¥æˆåŠŸå¯¼å‡ºpdfæ–‡æ¡£"
    (interactive)
    (goto-char (point-min))
    (insert "#+LATEX_HEADER: \\usepackage[usenames]{color}\n")
    (insert "#+LATEX_HEADER: \\usepackage{amsmath}\n")
    (insert "#+LATEX_HEADER: \\usepackage{esint}\n")
    (insert "#+LATEX_HEADER: \\usepackage{fontspec}\n")
    (insert "#+LATEX_HEADER: \\setsansfont{Noto Sans CJK TC}\n")
    (insert "#+LATEX_HEADER: \\setmainfont{Noto Serif CJK TC}\n")
    (insert "#+LATEX_HEADER: xelatex\n\n"))
  (eval-after-load 'org
    '(define-key org-mode-map (kbd "C-z C-x C-e") 'my-org-add-latex-header))


  ;; =======================================
  ;; ç¼–è¾‘å¢å¼º
  ;; from https://stackoverflow.com/a/998472
  ;; =======================================
  (defun my-duplicate-line (arg)
    "é‡å¤ä¸Šä¸€è¡Œï¼Œå¹¶ä¿æŒå…‰æ ‡åœ¨åŸä½ç½®ä¸å˜"
    (interactive "*p")  
    (setq buffer-undo-list (cons (point) buffer-undo-list))
    (let ((bol (save-excursion (beginning-of-line) (point)))
          eol)
      (save-excursion            
        (end-of-line)
        (setq eol (point))
        (let ((line (buffer-substring bol eol))
              (buffer-undo-list t)
              (count arg))
          (while (> count 0)          
            (newline)
            (insert line)
            (setq count (1- count))))      
        (setq buffer-undo-list (cons (cons eol (point)) buffer-undo-list))))
    (next-line arg))


  ;; =======================================
  ;; åœ¨org-modeä¸‹é¿å…valign-modeé€ æˆçš„å¡é¡¿é—®é¢˜
  ;; from chatGPT 4o
  ;; =======================================
  (defun my-toggle-inline-images-with-valign ()
    (interactive)
    (if (bound-and-true-p valign-mode)
        (progn
          (valign-mode -1)
          (org-toggle-inline-images)
          (valign-mode 1))
      (org-toggle-inline-images)))


  ;; =======================================
  ;; é‡é‡çº§æ›´æ–°: è§£è€¦org-cycleä¸cdlatex-tabçš„å¿«æ·é”®
  ;; from chatGPT 4o
  ;; =======================================
  (defun my-org-table-with-cdlatex ()
    (when (and (derived-mode-p 'org-mode) (not (minibufferp)))
    (if (org-at-table-p)
        (progn
          (local-set-key (kbd "TAB")     'cdlatex-tab)
          (local-set-key (kbd "C-l")     'org-table-next-field))
        (local-set-key (kbd "TAB")       'org-cycle))))


  ;; =======================================
  ;; å…³äºPDFView
  ;; =======================================
  (defun my-move-prev-ten-pages ()
    "pdfå‘ä¸Šç¿»10é¡µ"
    (interactive)
    (pdf-view-previous-page-command 10))
  (defun my-move-next-ten-pages ()
    "pdfå‘ä¸‹ç¿»10é¡µ"
    (interactive)
    (pdf-view-next-page-command 10))
  (defun my-pdf-view-mode-hook-with-yas ()
    "ç¦ç”¨ yasnippet"
    (yas-minor-mode -1))


  ;; =======================================
  ;; å…³äºtheme
  ;; =======================================
  (defun my-load-theme-light ()
    "åˆ‡æ¢ä¸ºäº®è‰²lightä¸»é¢˜"
    (interactive)
    (disable-theme 'bliss)
    (load-theme 'nano-light)  
    ;; äº®è‰²åˆå§‹åŒ–
    (custom-set-faces
     '(vertico-current ((t (:background "#b5ffd1"))))
     '(tab-line        ((t (:background "#ffffff")))))
    (with-eval-after-load 'telega
      '(telega-msg-heading ((t (:background "#ffffff"))))
      '(help-key-binding   ((t (:height 90 :box nil :foreground "#673ab7" :background "#ffffff")))))
    ;; logoå›¾
    (setq dashboard-startup-banner "/home/une/.wallpaper/dashboard-zoom-out-light.png")
    (dashboard-refresh-buffer)
    ;; äº®è‰²vertico
    (custom-set-faces
     '(vertico-group-separator ((t (:background "#37474f" :foreground "#FFFFFF"))))
     '(vertico-group-title     ((t (:background "#37474f" :foreground "#FFFFFF"))))
     '(vertico-posframe        ((t (:background "#FFFFFF" :foreground "#37474f"))))
     '(vertico-current         ((t (:background "#b5ffd1" :foreground "#37474f"))))
     '(region                  ((t (:background "#eceff1")))))
    ;; äº®è‰²corfu
    (with-eval-after-load 'corfu
      (custom-set-faces     
       '(corfu-default ((t (:background "#ffffff"))))
       '(corfu-border  ((t (:background "#37474f"))))
       '(corfu-current ((t (:background "#cfd8dc" :foreground "#37474f"))))))
    ;; äº®è‰²dirvish
    (with-eval-after-load 'dirvish      
      '(dirvish-hl-line ((t (:background "#cfd8dc" :foreground "#37474f")))))
    ;; äº®è‰²isearch
    (custom-set-faces
     '(isearch-fail ((t (:foreground "#37474f" :background "#ffffff")))))
    ;; äº®è‰²agenda
    (custom-set-faces
     '(org-agenda-structure     ((t (:background "#37474f" :foreground "#ffffff"))))   ; ç»“æ„ä¿¡æ¯
     '(org-agenda-date          ((t (:background "#ffffff" :foreground "#673ab7"))))   ; æ˜ŸæœŸä¿¡æ¯ 
     '(org-agenda-date-today    ((t (:background "#cfd8dc" :foreground "#37474f"))))   ; ä»Šå¤©æ—¶é—´
     '(org-agenda-current-time  ((t (:background "#ffffff" :foreground "#673ab7"))))   ; å½“å‰æ—¶é—´ 
     '(org-time-grid            ((t (:background "#ffffff" :foreground "#37474f"))))   ; æ—¶é—´åˆ»åº¦çº¿
     '(org-scheduled-today      ((t (:background "#ffffff" :foreground "#000000"))))   ; ä»Šå¤©çš„å®‰æ’ 
     '(org-imminent-deadline    ((t (:background "#ffffff" :foreground "#37474f"))))   ; å³å°†åˆ°æœŸçš„è®®ç¨‹
     '(org-scheduled-previously ((t (:background "#ffffff" :foreground "#cfd8dc"))))   ; å…ˆå‰å®Œæˆæˆ–å…ˆå‰æœªå®Œæˆçš„è®®ç¨‹
     '(org-todo                 ((t (:background "#ffffff" :foreground "#673ab7"))))   ; è®®ç¨‹çŠ¶æ€
     '(org-upcoming-deadline    ((t (:background "#ffffff" :foreground "#673ab7"))))   ; å³å°†è¿‡æœŸçš„
     '(org-default              ((t (:background "#ffffff" :foreground "#37474f")))))) ; å‰©ä½™è®®ç¨‹

  (defun my-load-theme-dark ()
    "åˆ‡æ¢ä¸ºæš—è‰²darkä¸»é¢˜"
    (interactive)
    (disable-theme 'nano-light)
    (load-theme 'bliss)
    ;; æš—è‰²åˆå§‹åŒ–
    (custom-set-faces
     '(vertico-current ((t (:background "#31343e"))))
     '(tab-line        ((t (:background "#191919")))))
    (with-eval-after-load 'telega
      (custom-set-faces     
       '(telega-msg-heading ((t (:background "#191919"))))
       '(help-key-binding   ((t (:height 90 :box nil :foreground "#64fbc8" :background "#191919"))))))
    ;; logoå›¾
    (setq dashboard-startup-banner "/home/une/.wallpaper/dashboard-zoom-out-dark.png")
    (dashboard-refresh-buffer)
    ;; æš—è‰²vertico
    (custom-set-faces   
     '(vertico-current         ((t (:background "#444444" :foreground "#67fbc8"))))
     '(vertico-group-separator ((t (:background "#64fbc8" :foreground "#191919"))))
     '(vertico-group-title     ((t (:background "#64fbc8" :foreground "#191919"))))
     '(vertico-posframe        ((t (:background "#191919" :foreground "#3bb1df")))))
    ;; æš—è‰²corfu
    (with-eval-after-load 'corfu
      (custom-set-faces
       '(corfu-default ((t (:background "#191919" :foreground "#3bb1df"))))
       '(corfu-border  ((t (:background "#37474f"))))
       '(corfu-current ((t (:background "#444444" :foreground "#64fbc8"))))))
    ;; æš—è‰²dirvish
    (with-eval-after-load 'dirvish
      (custom-set-faces
       '(dirvish-hl-line ((t (:background "#444444" :foreground "#64fbc8"))))))
    ;; æš—è‰²isearch
    (custom-set-faces
     '(isearch-fail ((t (:foreground "#ffffff" :background "#191919")))))
    ;; æš—è‰²agenda
    (custom-set-faces
     '(org-agenda-structure     ((t (:background "#64fbc8" :foreground "#444444"))))   ; ç»“æ„ä¿¡æ¯
     '(org-agenda-date          ((t (:background "#191919" :foreground "#64fbc8"))))   ; æ˜ŸæœŸä¿¡æ¯ 
     '(org-agenda-date-today    ((t (:background "#444444" :foreground "#64fbc8"))))   ; ä»Šå¤©æ—¶é—´
     '(org-agenda-current-time  ((t (:background "#444444" :foreground "#64fbc8"))))   ; å½“å‰æ—¶é—´
     '(org-time-grid            ((t (:background "#191919" :foreground "#3bb1df"))))   ; æ—¶é—´åˆ»åº¦çº¿
     '(org-scheduled-today      ((t (:background "#191919" :foreground "#ffffff"))))   ; ä»Šå¤©çš„å®‰æ’ 
     '(org-imminent-deadline    ((t (:background "#191919" :foreground "#3bb1df"))))   ; å³å°†åˆ°æœŸçš„è®®ç¨‹
     '(org-scheduled-previously ((t (:background "#191919" :foreground "#444444"))))   ; å…ˆå‰å®Œæˆæˆ–å…ˆå‰æœªå®Œæˆçš„è®®ç¨‹
     '(org-todo                 ((t (:background "#191919" :foreground "#1277a7"))))   ; è®®ç¨‹çŠ¶æ€
     '(org-upcoming-deadline    ((t (:background "#191919" :foreground "#64fbc8"))))   ; å³å°†è¿‡æœŸçš„
     '(org-default              ((t (:background "#191919" :foreground "#1277a7")))))) ; å‰©ä½™è®®ç¨‹


  ;; =======================================
  ;; ç¦ç”¨Messagesä¸scratch
  ;; =======================================
  (defun my-close-scratch-and-messages-buffer ()
    "ç¦ç”¨Messagesä¸scratch"
      (when (get-buffer "*scratch*")
        (kill-buffer "*scratch*") 
      (when (get-buffer "*Messages*") 
        (kill-buffer "*Messages*"))))


  ;; =======================================
  ;; åŠ¨æ€é€‰æ‹©å¼•æ“æ¥æ¸²æŸ“
  ;; from chatGPT 4o
  ;; =======================================
  (defun my-format-org-latex-preview-with-utf8 ()
    "æ¸²æŸ“åœ¨org-modeä¸‹æ¸²æŸ“å«æœ‰utf-8å­—ç¬¦çš„equationä¹‹å‰çš„æ ¼å¼åŒ–å‡†å¤‡"
    (interactive)
    ;; æ‰¾åˆ° \[\] çš„ \[
    (let ((thing (thing-at-point 'line t)))
      (if (and thing (string-match "\\[.*\\]" thing))
          (search-backward "\\[" nil t)
        (message "no such equation, please check again...")))
    (forward-char 2)
    (delete-all-space)
    ;; æ‰¾åˆ° \[\] çš„ \]
    (let ((thing (thing-at-point 'line t)))
      (if (and thing (string-match "\\[.*\\]" thing))
          (search-forward "\\]" nil t)
        (message "no such equation, please check again...")))
    (backward-char 3)
    (delete-all-space))

  (defun my-org-latex-preview-with-utf8 ()
    "åœ¨org-modeä¸‹æ¸²æŸ“å«æœ‰utf-8å­—ç¬¦çš„equation"
    (interactive)
    (let* ((latex-code (thing-at-point 'line t))
           (is-utf8 (and latex-code
                         (string-match "\\[.*\\]" latex-code)
                         (string-match-p "[^\x00-\x7F]" latex-code))))
      (if is-utf8
          ;; å¦‚æœåŒ…å« UTF-8 å­—ç¬¦ï¼Œå°±ä½¿ç”¨ xelatex-chinese å¼•æ“
          (progn
            (setq org-preview-latex-default-process 'xelatex-chinese)
            (message "ç›®å‰ä½¿ç”¨äº†xelatex-chineseå¼•æ“æ¸²æŸ“æ­¤equation"))
        ;; å¦‚æœä¸åŒ…å« UTF-8 å­—ç¬¦ï¼Œå°±ä½¿ç”¨ dvipngã€dvisvgmã€imagemagick å¼•æ“
        (setq org-preview-latex-default-process 'dvipng)                       
        (message "ç›®å‰ä½¿ç”¨äº†org-modeé»˜è®¤çš„dvipngã€dvisvgmã€imagemagickå¼•æ“æ¸²æŸ“æ­¤equation"))
      (org-latex-preview)
      ;; æ¯æ¬¡æ‰§è¡Œå®Œæ¯•åéƒ½æ¢å¤ä¸º dvipngã€dvisvgmã€imagemagick å¼•æ“
      (setq org-preview-latex-default-process 'dvipng)
      (message "Creating Latex previews in section...(and recover dvipng...) done.")))

  (defun my-render-equation-utf8 ()
    "åœ¨org-modeä¸‹æ¸²æŸ“å«æœ‰utf-8å­—ç¬¦çš„equationçš„ç»„åˆå‡½æ•°"
    (interactive)
    (my-format-org-latex-preview-with-utf8)
    (my-org-latex-preview-with-utf8))


  ;; =======================================
  ;; åœ¨org-modeçš„å…¬å¼ä¸Šä¸‹æ–‡çš„å…‰æ ‡è·³è½¬
  ;; from chatGPT 4o
  ;; =======================================
  (defun my-jump-the-beginning-of-the-equation (arg)
    "æ ¹æ® prefix(C-u) å‚æ•°å†³å®šæ˜¯å¦æ‰‹åŠ¨æˆ–è‡ªåŠ¨è¿›å…¥é€‰åŒºæ¨¡å¼ï¼Œå¹¶è·³è½¬åˆ°å…¬å¼å—\[\]çš„\["
    (interactive "P")
    (let ((thing (thing-at-point 'line t)))
      (if (and thing (string-match "\\[.*\\]" thing))
          (progn
            (if arg
                (call-interactively 'set-mark-command)
              (execute-kbd-macro (kbd "C-SPC")))
            (search-backward "\\[" nil t))
        (message "No such equation, please check again..."))))

  (defun my-jump-the-ending-of-the-equation (arg)
    "æ ¹æ® prefix(C-u) å‚æ•°å†³å®šæ˜¯å¦æ‰‹åŠ¨æˆ–è‡ªåŠ¨è¿›å…¥é€‰åŒºæ¨¡å¼ï¼Œå¹¶è·³è½¬åˆ°å…¬å¼å—\[\]çš„\]"
    (interactive "P")
    (let ((thing (thing-at-point 'line t)))
      (if (and thing (string-match "\\[.*\\]" thing))
          (progn
            (if arg
                (call-interactively 'set-mark-command)
              (execute-kbd-macro (kbd "C-SPC")))
            (search-forward "\\]" nil t))
        (message "No such equation, please check again..."))))

  (defun my-inside-escaped-bracket-pair-p ()
    "åˆ¤æ–­å…¬å¼å—\[ \]çš„è°“è¯"
    (let ((thing (thing-at-point 'line t)))
      (and thing
           (string-match-p "\\[.*\\]" thing))))

  (defun my-jump-the-previous-equation-formatting ()
    "å…‰æ ‡è·³è½¬åˆ°ä¸Šä¸€ä¸ªå…¬å¼å—å‰çš„æ ¼å¼åŒ–"
    (interactive)
    (if (my-inside-escaped-bracket-pair-p)
        (search-backward "\\[" nil t)))

  (defun my-jump-the-next-equation-formatting ()
    "å…‰æ ‡è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå…¬å¼å—å‰çš„æ ¼å¼åŒ–"
    (interactive)
    (if (my-inside-escaped-bracket-pair-p)
        (search-forward "\\]" nil t)))

  (defun my-jump-the-previous-equation ()
    "å½“å…‰æ ‡åœ¨å…¬å¼å—\[ \]æ—¶ï¼Œè·³è½¬åˆ°æ­¤ä¸Šä¸€ä¸ªå…¬å¼å—çš„\[ \]"
    (interactive)
    (my-jump-the-previous-equation-formatting)
    (if (my-inside-escaped-bracket-pair-p)
        (progn
          (forward-char 2)
          (search-backward "\\[" nil t))
      (message "no previous equation, please check again...")))

  (defun my-jump-the-next-equation ()
    "å½“å…‰æ ‡åœ¨å…¬å¼å—\[ \]æ—¶ï¼Œè·³è½¬åˆ°æ­¤ä¸‹ä¸€ä¸ªå…¬å¼å—çš„\[ \]"
    (interactive)
    (my-jump-the-next-equation-formatting)
    (if (my-inside-escaped-bracket-pair-p)
        (progn
          (backward-char 2)
          (search-forward "\\]" nil t))
      (message "no next equation, please check again...")))


  ;; =======================================
  ;; æ‰‹åŠ¨æ›´æ–°è®®ç¨‹ä»»åŠ¡ä¿¡æ¯
  ;; =======================================
  (defun my-update-modeline-output-agenda-tasks ()
    "æ‰‹åŠ¨æ›´æ–°è®®ç¨‹ä»»åŠ¡ä¿¡æ¯ TODO: a DOING: b WAIT: c"
    (interactive)
    (update-modeline-output-agenda-file-tasks))


  ;; =======================================
  ;; å¿«é€Ÿæ›´æ”¹è®®ç¨‹ä»»åŠ¡ä¿¡æ¯
  ;; =======================================
  (defun my-org-agenda-change-headline-to-done ()
    "å°†å½“å‰ä»»åŠ¡çŠ¶æ€æ”¹ä¸ºDONE"
    (interactive)
    (if (org-at-heading-p)
        (progn
          (org-beginning-of-line)
          (forward-word)
          (backward-kill-word 1)
          (insert "DONE"))
      (progn
        (org-previous-visible-heading 1)
        (org-beginning-of-line)
        (forward-word)
        (backward-kill-word 1)
        (insert "DONE"))))

  (defun my-org-agenda-change-headline-to-doing ()
    "å°†å½“å‰ä»»åŠ¡çŠ¶æ€æ”¹ä¸ºDOING"
    (interactive)
    (if (org-at-heading-p)
        (progn
          (org-beginning-of-line)
          (forward-word)
          (backward-kill-word 1)
          (insert "DOING"))
      (progn
        (org-previous-visible-heading 1)
        (org-beginning-of-line)
        (forward-word)
        (backward-kill-word 1)
        (insert "DOING"))))

  (defun my-org-agenda-change-headline-to-wait ()
    "å°†å½“å‰ä»»åŠ¡çŠ¶æ€æ”¹ä¸ºWAIT"
    (interactive)
    (if (org-at-heading-p)
        (progn
          (org-beginning-of-line)
          (forward-word)
          (backward-kill-word 1)
          (insert "WAIT"))
      (progn
        (org-previous-visible-heading 1)
        (org-beginning-of-line)
        (forward-word)
        (backward-kill-word 1)
        (insert "WAIT"))))


  ;; =======================================
  ;; æ‰‹åŠ¨æ›´æ–°modelineä¸Šçš„å·²æœ‰ä¿¡æ¯
  ;; =======================================
  (defun my-update-modeline-all-information ()
    "æ‰‹åŠ¨æ›´æ–°modelineä¸Šçš„å·²æœ‰ä¿¡æ¯"
    (interactive)
    ;; æ›´æ–°å˜é‡æ•°æ®
    (update-modeline-agenda-file-tasks)  
    ;; æ›´æ–°modelineä¿¡æ¯
    (update-modeline-with-all-scripts))


  (provide 'custom-defun)  
#+end_src



****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-cdlatex.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-cdlatex.el
  ;; ========================================
  ;; å¿«é€Ÿè¾“å…¥æ•°å­¦ç¬¦å· enhance-cdlatex.el
  ;; ========================================
  (use-package cdlatex
    :ensure t
    :defer nil
    :after tex-site
    :bind (:map cdlatex-mode-map
                ("<tab>" . cdlatex-tab))
    :init 
    (setq cdlatex-paired-parens "")
    (setq cdlatex-use-dollar-to-ensure-math nil)

    ;; ==================================
    ;; cdlatexçš„TABè¡¥å…¨
    ;; ==================================
    (setq cdlatex-command-alist
      '(("Bm" "" "\\begin{Bmatrix}  ? \\end{Bmatrix}" cdlatex-position-cursor nil nil t)
        ("vm" "" "\\begin{vmatrix}  ? \\end{vmatrix}" cdlatex-position-cursor nil nil t)
        ("bm" "" "\\begin{bmatrix}  ? \\end{bmatrix}" cdlatex-position-cursor nil nil t)
        ("ve" "" "\\vert{} ?" cdlatex-position-cursor nil t t)
        ("or" "" "\\overrightarrow{?} " cdlatex-position-cursor nil t t)
        ("ii" "" "\\textit{?} " cdlatex-position-cursor nil t t)
        ("bb" "" "\\textbf{?} " cdlatex-position-cursor nil t t)
        ("te" "" "\\text{?} " cdlatex-position-cursor nil t t)
        ("dd" "" "\\mathrm{d} ?" cdlatex-position-cursor nil t t)
        ("nn" "" "\\\\ ?" cdlatex-position-cursor nil t t)
        ("nl" "" "\\\\ ?" cdlatex-position-cursor nil t t)
        ("xl" "" "\\xleftarrow[?]{} " cdlatex-position-cursor nil nil t)      
        ("xr" "" "\\xrightarrow[?]{} " cdlatex-position-cursor nil nil t)
        ("ae" "" "\\underset{ ? }{\\overset{   }{\\Longleftrightarrow}} " cdlatex-position-cursor nil nil t)
        ("al" "" "\\underset{ ? }{\\overset{   }{\\Longleftarrow}} " cdlatex-position-cursor nil nil t)
        ("ar" "" "\\underset{ ? }{\\overset{   }{\\Longrightarrow}} " cdlatex-position-cursor nil nil t)
        ("R" "" "\\Re?" cdlatex-position-cursor nil nil t)
        ("to" "" "{? \\to }" cdlatex-position-cursor nil nil t)
        ("liml" "" "\\lim_{? \\to } " cdlatex-position-cursor nil nil t)      
        ("intl" "" "\\int_{?}^{} \\mathrm{d} " cdlatex-position-cursor nil nil t)
        ("iintl" "" "\\iint ? \\mathrm{d} " cdlatex-position-cursor nil nil t)
        ("inf" "" "\\infty?" cdlatex-position-cursor nil nil t)
        ("app" "" "\\approx?" cdlatex-position-cursor nil nil t))))

    ;; ==================================
    ;; cdlatexçš„`è¡¥å…¨
    ;; ==================================
    (setq cdlatex-math-symbol-alist
          '((112 ("" "\\pi"))
            (33 ("\\neq" "" ""))
            (46 ("\\cdot" "\\cdots"))
            (97 ("\\alpha" "" "\\ast"))
            (39 ("" "" "`"))
            (109 ("\\mu" "" "\\lim"))))


  ;; ========================================
  ;; cdlatexçš„æ‹¬å·åŒ¹é…
  ;; ========================================
  (defun custom-insert-inline-OCDL ()
    (interactive)
    (insert "\\[ ")
    (save-excursion (insert " \\]")))
  (eval-after-load 'org
    '(define-key org-cdlatex-mode-map (kbd "$")   'custom-insert-inline-OCDL))
  (defun custom-insert-bra-OCDL ()
    (interactive)
    (insert "(")
    (save-excursion (insert ")")))
  (eval-after-load 'org
     '(define-key org-cdlatex-mode-map (kbd "(")   'custom-insert-bra-OCDL))
  (defun custom-insert-sq-bra-OCDL ()
    (interactive)
    (insert "[")
    (save-excursion (insert "]")))
  (eval-after-load 'org
     '(define-key org-cdlatex-mode-map (kbd "[")   'custom-insert-sq-bra-OCDL))
  (defun custom-insert-curly-bra-OCDL ()
    (interactive)
    (insert "{")
    (save-excursion (insert "}")))
  (eval-after-load 'org
     '(define-key org-cdlatex-mode-map (kbd "{")   'custom-insert-curly-bra-OCDL))


  (provide 'enhance-cdlatex)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-deadgrep.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-deadgrep.el
  ;; ========================================
  ;; æŠ“å–æ–‡æœ¬å·¥å…· enhance-deadgrep.el
  ;; ========================================
  (use-package cdlatex
    :ensure t
    :defer t)


  (provide 'enhance-deadgrep)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-dirvish.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-dirvish.el
  ;; ========================================
  ;; å·¦ä¾§æ–‡ä»¶æ ‘å·¥å…· enhance-dirvish.el
  ;; ========================================
  (use-package dirvish
    :ensure t
    :defer t
    :init
    (dirvish-override-dired-mode)
    (dirvish-side-follow-mode)
    (setq dirvish-mode-line-format '(:left (sort symlink) :right (omit yank index))
          dirvish-mode-line-height 16
          dirvish-header-line-height 9
          delete-by-moving-to-trash t
          dired-listing-switches "-l --almost-all --human-readable --group-directories-first --no-group"))


  (provide 'enhance-dirvish)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-history.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-history.el
  ;; ========================================
  ;; å…‰æ ‡å†å²è®°å½• enhance-history.el
  ;; ========================================
  (use-package savehist
    :ensure t
    :defer nil
    :hook (after-init . savehist-mode)
    :init (setq enable-recursive-minibuffers t
                history-length 1000
                savehist-additional-variables '(mark-ring
                                                global-mark-ring
                                                search-ring
                                                regexp-search-ring
                                                extended-command-history)
                savehist-autosave-interval 300))

  (use-package saveplace
    :ensure t
    :defer nil
    :hook (after-init . save-place-mode))


  (provide 'enhance-history)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-indentline.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-indentline.el
  ;; =======================================
  ;; ç¼©è¿›çº¿ enhance-indentline.el 
  ;; =======================================
  (use-package highlight-indent-guides
               :ensure t
               :defer t
               :init
               (setq highlight-indent-guides-method 'column)
               :hook
               (prog-mode     .    highlight-indent-guides-mode))


  (provide 'enhance-indentline)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-magit.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-magit.el
  ;; =======================================
  ;; æœ€å¥½ç”¨çš„ç‰ˆæœ¬æ§åˆ¶ enhance-magit.el 
  ;; =======================================
  (use-package magit
    :ensure t
    :defer t)


  (provide 'enhance-magit)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-minibuffer.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-minibuffer.el
  ;; =======================================
  ;; è¿·ä½ æ˜¾ç¤ºèœå• enhance-minibuffer.el
  ;; =======================================
  (use-package vertico
    :ensure t
    :defer nil
    :init
    (vertico-mode t))

  (use-package orderless
    :ensure t
    :defer nil
    :custom
    (completion-styles '(orderless basic))
    (completion-category-overrides '((file (styles basic partial-completion)))))

  (use-package marginalia
    :ensure t
    :defer nil
    :init
    (marginalia-mode t))

  (use-package embark
    :ensure t
    :defer nil
    :init
    (setq prefix-help-command 'embark-prefix-help-command))
  (use-package embark-consult
    :ensure t
    :defer nil)
  (use-package consult
    :ensure t
    :defer nil)

  (use-package posframe
    :ensure t
    :defer t)
  (use-package vertico-posframe
    :ensure t
    :defer t
    :init
    (vertico-posframe-mode 1))
  (setq vertico-posframe-height 11)
  (setq vertico-posframe-width 150)


  (provide 'enhance-minibuffer)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-pdftools.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-pdftools.el
  ;; =======================================
  ;; PDFå·¥å…· enhance-pdftools.el
  ;; =======================================
  (use-package pdf-tools
    :ensure t
    :defer nil
    :init
    (pdf-loader-install))


  (provide 'enhance-pdftools)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-restart.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-restart.el
  ;; =======================================
  ;; é‡å¯GNU Emacs enhance-restart.el 
  ;; =======================================
  (use-package restart-emacs
    :ensure t
    :defer nil)


  (provide 'enhance-restart)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-smartparens.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-smartparens.el
  ;; =======================================
  ;; æ‹¬å·åŒ¹é… enhance-smartparens.el 
  ;; =======================================
  (use-package smartparens
    :ensure t
    :defer nil
    :hook (prog-mode text-mode LaTeX-mode))


  (provide 'enhance-smartparens)  
#+end_src



****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-tabs.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-tabs.el
  ;; =======================================
  ;; æ ‡ç­¾é¡µ enhance-tabs.el 
  ;; =======================================
  (use-package centaur-tabs
    :ensure t

    :demand

    :config
    (centaur-tabs-mode t)

    :init 
    ;; =======================================
    ;; è®¾ç½®bufferåŸºæœ¬çŠ¶æ€
    ;; =======================================
    (setq centaur-tabs-style "box"
          centaur-tabs-height 9  ;; 16
          centaur-tabs-set-icons t
          centaur-tabs-plain-icons t
          centaur-tabs-gray-out-icons 'buffer)

    ;; =======================================
    ;; è®¾ç½®bufferçš„å½“å‰æ´»è·ƒçš„å›¾æ ‡
    ;; =======================================
    (setq centaur-tabs-set-bar 'left)

    ;; =======================================
    ;; è®¾ç½®bufferçš„å…³é—­å›¾æ ‡
    ;; =======================================
    (setq centaur-tabs-set-close-button nil
          centaur-tabs-close-button "X")

    ;; =======================================
    ;; è®¾ç½®bufferçš„æœªä¿å­˜çŠ¶æ€çš„å›¾æ ‡
    ;; =======================================
    (setq centaur-tabs-set-modified-marker t
          centaur-tabs-modified-marker "*")
    
    ;; =======================================
    ;; è®¾ç½®bufferå¯å¾ªç¯
    ;; =======================================
    (setq centaur-tabs-cycle-scope 'tabs)

    ;; =======================================
    ;; è®¾ç½®bufferçš„æœ€å¤§é•¿åº¦(0å€¼ä»£è¡¨åŠ¨æ€é•¿åº¦)
    ;; =======================================
    (setq centaur-tabs-label-fixed-length 15)

    ;; =======================================
    ;; ç¦ç”¨centaur-tabs-local-mode
    ;; =======================================
    :hook
    (dired-mode . centaur-tabs-local-mode))


  (provide 'enhance-tabs)  
#+end_src


****** ğŸ“ elisp ğŸ“ enhance ğŸ”§ enhance-term.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/enhance/enhance-term.el
  ;; =======================================
  ;; ç»ˆç«¯æ¨¡æ‹Ÿå™¨ enhance-term.el
  ;; =======================================
  ;; -*- lexical-binding: t -*-
  (use-package eat
    :ensure t
    :defer t)


  (provide 'enhance-term)  
#+end_src


****** ğŸ“ elisp ğŸ“ hooks ğŸ”§ hooks-hook.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/hooks/hooks-hook.el
  ;; ========================================
  ;; é’©å­é…ç½® hooks-hook.el
  ;; ========================================


  ;; ========================================
  ;; ç¼–ç¨‹ç±»é’©å­hook
  ;; ========================================
  (add-hook 'prog-mode 'hs-minor-mode)                                         ; æŠ˜å å±•å¼€


  ;; ========================================
  ;; å®Œæˆåˆå§‹åŒ–åçš„é’©å­hook
  ;; ========================================
  (add-hook 'after-init-hook (lambda () 
                               (my-close-scratch-and-messages-buffer)
                               (dashboard-open)))                              ; åˆå§‹åŒ–é’©å­


  ;; ========================================
  ;; ç¬”è®°æ–‡æœ¬org/LaTeX-PS/textçš„é’©å­hook                                         
  ;; ========================================
  (add-hook 'text-mode-hook 'turn-on-visual-line-mode)                         ; å•è¡Œæ–‡æœ¬è¶…å‡ºä¸€å®šé•¿åº¦åè‡ªåŠ¨è™šæ‹Ÿæ¢è¡Œæ˜¾ç¤º(ç±»ä¼¼äºset wrap)
  (add-hook 'TeX-after-compilation-finished-functions                          ; AUCTeX(14.0.3.2024-03-17)
            #'TeX-revert-document-buffer)                                     
  (add-hook 'org-mode-hook #'org-cdlatex-mode)                                 ; åœ¨org-modeä½¿ç”¨OCDL(è¿™æ˜¯OCDLè€Œä¸æ˜¯CDL)
  (add-hook 'LaTeX-mode-hook #'cdlatex-mode)                                   ; åœ¨LaTeX-modeä½¿ç”¨OCDL(è¿™æ˜¯OCDLè€Œä¸æ˜¯CDL)
  (add-hook 'org-mode-hook #'valign-mode)                                      ; åœ¨org-modeä½¿ç”¨valignå¯¹é½ä¸ç­‰å®½å­—ä½“
  (add-hook 'LaTeX-mode-hook #'tree-sitter-mode)                               ; åœ¨LaTeX-modeä½¿ç”¨ts
  (add-hook 'org-mode-hook
            (lambda ()
              (my-org-table-with-cdlatex)
              (add-hook 'post-command-hook 'my-org-table-with-cdlatex)))   ; ä»…åœ¨org-tableä¸Šä¸‹æ–‡èŒƒå›´å†…ä½¿ç”¨cdlatexçš„TABæ¥è¡¥å…¨æ¥é˜²æ­¢å•å…ƒæ ¼å†…å®¹ä¸ä¼šå› org-cycleè€Œè¢«æ–°æ’å…¥çš„å­—ç¬¦org-self-insert-commandè€Œè¦†ç›–
  (add-hook 'pdf-view-mode-hook 'my-pdf-view-mode-hook-with-yas)           ; åœ¨PDFViewé‡Œç¦ç”¨yasnippet


  (provide 'hooks-hook)  
#+end_src


****** ğŸ“ elisp ğŸ“ im ğŸ”§ im-telega.el 
#+begin_src elisp :tangle ~/.config/emacs/elisp/im/im-telega.el
  ;; ========================================
  ;; IMè®¾ç½® im-telega.el (zevlg, Thank you!)
  ;; ========================================
  (use-package telega
    :ensure t
    :defer t
    :init
    (setq telega-avatar-workaround-gaps-for '(return t)))

  (use-package visual-fill-column
    :ensure t
    :defer nil)
  (use-package rainbow-identifiers
    :ensure t
    :defer nil)


  (provide 'im-telega)  
#+end_src

****** ğŸ“ elisp ğŸ“ key ğŸ”§ key-keybindings.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/key/key-keybindings.el
  ;; ========================================
  ;; è‡ªå®šä¹‰å¿«æ·é”® key-keybindings.el
  ;; ========================================

  ;; ========================================
  ;; å…³äºè½¯å±è”½
  ;; ========================================
  (global-unset-key (kbd "C-z"))                                                                        ; å±è”½C-z (åŸåŠŸèƒ½: æŒ‚èµ·)
  (global-unset-key (kbd "C-\\"))                                                                       ; å±è”½C-\\ (åŸåŠŸèƒ½: åˆ‡æ¢è¾“å…¥æ³•)


  ;; ========================================
  ;; å…³äºbuffer
  ;; ========================================
  (global-set-key (kbd "C-z C-b C-n")                      'next-buffer)                               ; è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå…¨å±€buffer
  (global-set-key (kbd "C-z C-b C-p")                      'previous-buffer)                           ; è·³è½¬åˆ°ä¸Šä¸€ä¸ªå…¨å±€buffer
  (global-set-key (kbd "C-z C-b C-b")                      'centaur-tabs-backward)                     ; è·³è½¬åˆ°ä¸Šä¸€ä¸ªå±€éƒ¨buffer
  (global-set-key (kbd "C-z C-b C-f")                      'centaur-tabs-forward)                      ; è·³è½¬åˆ°ä¸‹ä¸€ä¸ªå±€éƒ¨buffer


  ;; ========================================
  ;; å…³äºtheme
  ;; ========================================
  (global-set-key (kbd "C-z C-t C-1")                      'my-load-theme-light)                       ; åˆ‡æ¢ä¸ºäº®è‰²lightä¸»é¢˜
  (global-set-key (kbd "C-z C-t C-2")                      'my-load-theme-dark)                        ; åˆ‡æ¢ä¸ºæš—è‰²darkä¸»é¢˜


  ;; ========================================
  ;; çª—å£ç®¡ç†
  ;; ========================================
  (global-set-key (kbd "C-z C-z C-k")                      'delete-window)                             ; å…³é—­å½“å‰çª—å£
  (global-set-key (kbd "C-z C-z C-f")                      'windmove-right)                            ; å…‰æ ‡è·³è½¬åˆ°å³è¾¹çª—å£
  (global-set-key (kbd "C-z C-z C-b")                      'windmove-left)                             ; å…‰æ ‡è·³è½¬åˆ°å·¦è¾¹çª—å£
  (global-set-key (kbd "C-z C-z C-n")                      'windmove-down)                             ; å…‰æ ‡è·³è½¬åˆ°ä¸‹è¾¹çª—å£
  (global-set-key (kbd "C-z C-z C-p")                      'windmove-up)                               ; å…‰æ ‡è·³è½¬åˆ°ä¸Šè¾¹çª—å£
  (global-set-key (kbd "C-z C-s C-f")                      'windmove-swap-states-right)                ; å‘å³äº¤æ¢çª—å£ 
  (global-set-key (kbd "C-z C-s C-b")                      'windmove-swap-states-left)                 ; å‘å·¦äº¤æ¢çª—å£ 
  (global-set-key (kbd "C-z C-s C-n")                      'windmove-swap-states-down)                 ; å‘ä¸‹äº¤æ¢çª—å£ 
  (global-set-key (kbd "C-z C-s C-p")                      'windmove-swap-states-up)                   ; å‘ä¸Šäº¤æ¢çª—å£


  ;; ========================================
  ;; å…³äºé€‰åŒº
  ;; ========================================
  (global-set-key (kbd "C-z C-z C-c")                      'set-mark-command)                           ; è¿›å…¥å•è¡Œé€‰åŒº
  (global-set-key (kbd "C-z C-x C-c")                      'set-mark-command)                           ; è¿›å…¥å•è¡Œé€‰åŒº
  (global-set-key (kbd "C-c SPC")                          'rectangle-mark-mode)                        ; è¿›å…¥çŸ©å½¢é€‰åŒº


  ;; ========================================
  ;; å…³äºè°ƒæ•´çª—å£
  ;; ========================================
  (global-set-key (kbd "C-z C-w C-p")                      'my-resize-top-five-unit)                    ; å½“å‰çª—å£å‘ä¸Šè°ƒæ•´5ä¸ªå•ä½
  (global-set-key (kbd "C-z C-w C-n")                      'my-resize-bottom-five-unit)                 ; å½“å‰çª—å£å‘ä¸‹è°ƒæ•´5ä¸ªå•ä½
  (global-set-key (kbd "C-z C-w C-b")                      'my-resize-left-five-unit)                   ; å½“å‰çª—å£å‘å·¦è°ƒæ•´5ä¸ªå•ä½
  (global-set-key (kbd "C-z C-w C-f")                      'my-resize-right-five-unit)                  ; å½“å‰çª—å£å‘å³è°ƒæ•´5ä¸ªå•ä½


  ;; ========================================
  ;; é‡å¯GNU Emacs
  ;; ========================================
  (global-set-key (kbd "C-z C-z C-z C-z C-r")              'restart-emacs)                              ; é‡å¯GNU Emacs


  ;; ========================================
  ;; å…³äºdirvishæ–‡ä»¶ç®¡ç†å™¨
  ;; ========================================
  (global-set-key (kbd "C-z C-z C-d")                      'dirvish-side)                               ; å·¦ä¾§æ‰“å¼€dirvish
  (global-set-key (kbd "C-z C-z C-0")                      'dirvish)                                    ; å…¨å±€æ‰“å¼€dirvish


  ;; ========================================
  ;; å…³äºç§»åŠ¨å…‰æ ‡
  ;; ========================================
  (global-set-key (kbd "M-n")                              'my-move-next-five-lines)                    ; å…‰æ ‡å‘ä¸‹ç§»åŠ¨5è¡Œ
  (global-set-key (kbd "M-p")                              'my-move-prev-five-lines)                    ; å…‰æ ‡å‘ä¸Šç§»åŠ¨5è¡Œ


  ;; ========================================
  ;; å…³äºbuffer
  ;; ========================================
  (global-set-key (kbd "C-z C-z C-t")                      'ibuffer)                                    ; ç”¨ibufferæ¥ç®¡ç†buffer
  (global-set-key (kbd "C-x C-b")                          'consult-buffer)                             ; ç”¨consult-bufferæ¥åˆ‡æ¢buffer


  ;; ========================================
  ;; å…³äºç¼–è¾‘å¢å¼º
  ;; ========================================
  (global-set-key (kbd "C-=")                              'my-duplicate-line)                          ; å¤åˆ¶å½“å‰è¡Œåˆ°ä¸‹ä¸€è¡Œå¹¶ä¿æŒå…‰æ ‡æ°´å¹³ä½ç½®ä¸å˜
  (global-set-key (kbd "C-z C-z C-\-")                     'consult-line)                               ; consultç‰ˆC-sæœç´¢
  (global-set-key (kbd "C-z C-z C-\=")                     'consult-ripgrep)                            ; consultç‰ˆrgæœç´¢
  (global-set-key (kbd "C-z C-z C-e")                      'embark-act)                                 ; embarkç‰ˆactionè¡ŒåŠ¨
  (global-set-key (kbd "C-z C-x C-h")                      'embark-prefix-help-command)                 ; embarkç‰ˆhelpå¸®åŠ©


  ;; ========================================
  ;; å…³äºorg-mode
  ;; ========================================
  (define-key org-mode-map (kbd "C-z C-x C-0")             'valign-mode)                                ; åˆ‡æ¢valign-mode
  (define-key org-mode-map (kbd "C-c C-x C-v")             'my-toggle-inline-images-with-valign)        ; ç”¨ C-c C-x C-v é¿å…valign-modeé€ æˆçš„å¯¹é½å¡é¡¿æ¥é¢„è§ˆå›¾ç‰‡
  (define-key org-mode-map (kbd "C-z C-z C-l")             'my-render-equation-utf8)                    ; ç”¨ C-z C-z C-l è¿›è¡Œutf-8çš„ \[\] ä¸Šä¸‹æ–‡èŒƒå›´çš„å…¬å¼æ¸²æŸ“
  (define-key org-mode-map (kbd "C-z C-x C-f")             'my-jump-the-ending-of-the-equation)         ; å½“å…‰æ ‡åœ¨\[\]ä¸Šä¸‹æ–‡æ—¶ï¼Œå…‰æ ‡è·³è½¬åˆ°\[\]çš„\[
  (define-key org-mode-map (kbd "C-z C-x C-b")             'my-jump-the-beginning-of-the-equation)      ; å½“å…‰æ ‡åœ¨\[\]ä¸Šä¸‹æ–‡æ—¶ï¼Œå…‰æ ‡è·³è½¬åˆ°\[\]çš„\]
  (define-key org-mode-map (kbd "C-z C-x C-n")             'my-jump-the-next-equation)                  ; å½“å…‰æ ‡åœ¨\[\]ä¸Šä¸‹æ–‡æ—¶ï¼Œå…‰æ ‡è·³è½¬åˆ°ä¸‹ä¸€ä¸ª\[\]
  (define-key org-mode-map (kbd "C-z C-x C-p")             'my-jump-the-previous-equation)              ; å½“å…‰æ ‡åœ¨\[\]ä¸Šä¸‹æ–‡æ—¶ï¼Œå…‰æ ‡è·³è½¬åˆ°ä¸Šä¸€ä¸ª\[\]
  (define-key org-mode-map (kbd "C-z C-x C-\[")            'org-previous-item)                          ; è·³è½¬åˆ°ä¸Šä¸€ä¸ª (1) 2. 3) çš„å°æ ‡é¢˜
  (define-key org-mode-map (kbd "C-z C-x C-\]")            'org-next-item)                              ; è·³è½¬åˆ°ä¸‹ä¸€ä¸ª (1) 2. 3) çš„å°æ ‡é¢˜
  (global-set-key          (kbd "C-z C-z C-\\")            'org-agenda)                                 ; æ‰“å¼€orgè®®é¢˜ç•Œé¢
  (global-set-key          (kbd "C-z C-a C-\\")            'org-agenda)                                 ; æ‰“å¼€orgè®®é¢˜ç•Œé¢
  (define-key org-mode-map (kbd "C-z C-a C-\[")            'org-schedule)                               ; æ·»åŠ orgè®®é¢˜çš„èµ·å§‹æ—¶é—´
  (define-key org-mode-map (kbd "C-z C-a C-\]")            'org-deadline)                               ; æ·»åŠ orgè®®é¢˜çš„ç»ˆæ­¢æ—¶é—´
  (define-key org-mode-map (kbd "C-z C-a C-\=")            'org-timestamp)                              ; æ·»åŠ orgè®®é¢˜çš„<>æ¿€æ´»æ ‡ç­¾
  (define-key org-mode-map (kbd "C-z C-a C-\-")            'org-timestamp-inactive)                     ; æ·»åŠ orgè®®é¢˜çš„[]éæ¿€æ´»æ ‡ç­¾
  (define-key org-mode-map (kbd "C-z C-a C-j")             'org-todo)                                   ; åˆ‡æ¢todo/done/etc.æ ‡é¢˜æ–‡å­—
  (define-key org-mode-map (kbd "C-z C-a C-t")             'org-set-tags-command)                       ; æ‰“ä¸Šç‰¹å¾æ ‡ç­¾
  (define-key org-mode-map (kbd "C-z C-a C-0")             'org-archive-subtree)                        ; åˆ é™¤subtreeå¹¶ä¿å­˜è‡³åŒç›®å½•ä¸‹çš„org-archiveæ–‡ä»¶å†…
  (define-key org-mode-map (kbd "C-z C-a C-\m")            'my-update-modeline-all-information)         ; æ‰‹åŠ¨æ›´æ–°modelineä¸Šçš„å·²æœ‰ä¿¡æ¯
  (define-key org-mode-map (kbd "C-z C-a C-w")             'my-org-agenda-change-headline-to-wait)      ; å°†å½“å‰ä»»åŠ¡çŠ¶æ€æ”¹ä¸ºWAIT
  (define-key org-mode-map (kbd "C-z C-a C-i")             'my-org-agenda-change-headline-to-doing)     ; å°†å½“å‰ä»»åŠ¡çŠ¶æ€æ”¹ä¸ºDOING
  (define-key org-mode-map (kbd "C-z C-a C-d")             'my-org-agenda-change-headline-to-done)      ; å°†å½“å‰ä»»åŠ¡çŠ¶æ€æ”¹ä¸ºDONE
  (global-unset-key (kbd "C-,"))                                                                        ; å±è”½C-, (åŸåŠŸèƒ½: ç›´æ¥è¿›å…¥org-agenda-files)
  (global-set-key (kbd "C-z C-a C-,")                      'org-cycle-agenda-files)                     ; ç›´æ¥è¿›å…¥org-agenda-files


  ;; ========================================
  ;; å…³äºorg-roam
  ;; ========================================
  (define-key org-mode-map (kbd "C-z C-r C-f")             'org-roam-node-find)                         ; å¯»æ‰¾ç¬”è®°åœ°å›¾èŠ‚ç‚¹
  (define-key org-mode-map (kbd "C-z C-r C-a")             'org-roam-node-insert)                       ; åˆ›å»ºç¬”è®°åœ°å›¾èŠ‚ç‚¹
  (define-key org-mode-map (kbd "C-z C-r C-n")             'org-roam-capture)                           ; åˆ›å»ºç¬”è®°åœ°å›¾èŠ‚ç‚¹
  (define-key org-mode-map (kbd "C-z C-r C-t")             'org-roam-buffer-toggle)                     ; åˆ‡æ¢ç¬”è®°åœ°å›¾èŠ‚ç‚¹
  (define-key org-mode-map (kbd "C-z C-r C-o")             'org-roam-ui-mode)                           ; æ‰“å¼€ç¬”è®°åœ°å›¾
  (define-key org-mode-map (kbd "C-z C-r C-d")             'org-roam-dailies-map)                       ; æ‰“å¼€æ—¥è®°èœå•


  ;; ========================================
  ;; å…³äºPDFView
  ;; ========================================
  (define-key pdf-view-mode-map (kbd "d")                  'pdf-view-next-page-command)                 ; PDFViewå‘åç¿»é¡µ
  (define-key pdf-view-mode-map (kbd "a")                  'pdf-view-previous-page-command)             ; PDFViewå‘å‰ç¿»é¡µ
  (define-key pdf-view-mode-map (kbd "s")                  'pdf-view-scroll-up-or-next-page)            ; PDFViewå‘ä¸‹æ»šåŠ¨
  (define-key pdf-view-mode-map (kbd "w")                  'pdf-view-scroll-down-or-previous-page)      ; PDFViewå‘ä¸Šæ»šåŠ¨
  (define-key pdf-view-mode-map (kbd "t")                  'my-move-prev-ten-pages)                     ; PDFViewå‘å‰ç¿»10é¡µ
  (define-key pdf-view-mode-map (kbd "b")                  'my-move-next-ten-pages)                     ; PDFViewå‘åç¿»10é¡µ
  (require 'pdf-annot)
  (define-key pdf-annot-minor-mode-map (kbd "C-c C-a C-0") 'pdf-annot-delete)                           ; PDFViewåˆ é™¤æ‰¹æ³¨
  (define-key pdf-annot-minor-mode-map (kbd "C-c C-a C-1") 'pdf-annot-add-highlight-markup-annotation)  ; PDFViewé«˜äº®
  (define-key pdf-annot-minor-mode-map (kbd "C-c C-a C-2") 'pdf-annot-add-underline-markup-annotation)  ; PDFViewä¸‹åˆ’çº¿
  (define-key pdf-annot-minor-mode-map (kbd "C-c C-a C-3") 'pdf-annot-add-squiggly-markup-annotation)   ; PDFViewæ³¢æµªä¸‹åˆ’çº¿
  (define-key pdf-annot-minor-mode-map (kbd "C-c C-a C-8") 'pdf-annot-add-text-annotation)              ; PDFViewæ–‡æœ¬æ‰¹æ³¨


  ;; ========================================
  ;; å…³äºDashboard
  ;; ========================================
  (define-key dashboard-mode-map       (kbd "p")           'dashboard-previous-line)                    ; è®¾ç½®åœ¨ä»…æœ‰dashboard-itemä¸‹æŒ‰ä¸‹pæ¥ç§»åŠ¨å…‰æ ‡
  (define-key dashboard-mode-map       (kbd "n")           'dashboard-next-line)                        ; è®¾ç½®åœ¨ä»…æœ‰dashboard-itemä¸‹æŒ‰ä¸‹næ¥ç§»åŠ¨å…‰æ ‡
  (define-key dashboard-mode-map       (kbd "j")           nil)                                         ; å–æ¶ˆåœ¨ä»…æœ‰dashboard-itemä¸‹æŒ‰ä¸‹jæ¥ç§»åŠ¨å…‰æ ‡
  (define-key dashboard-mode-map       (kbd "k")           nil)                                         ; å–æ¶ˆåœ¨ä»…æœ‰dashboard-itemä¸‹æŒ‰ä¸‹kæ¥ç§»åŠ¨å…‰æ ‡
  (global-set-key                      (kbd "C-z C-d C-r") 'consult-recent-file)                        ; C-z C-d C-r æ¥æ‰“å¼€æœ€è¿‘æ–‡ä»¶
  (global-set-key                      (kbd "C-z C-d C-b") 'bookmark-bmenu-list)                        ; C-z C-d C-b æ¥æ‰“å¼€ä¹¦ç­¾æ–‡ä»¶
  (global-set-key                      (kbd "C-z C-d C-a") 'org-agenda-list)                            ; C-z C-d C-a æ¥æ‰“å¼€è®®ç¨‹æ–‡ä»¶


  ;; ========================================
  ;; å…³äºè¿›ç¨‹process
  ;; ========================================
  (global-set-key (kbd "C-z C-p C-e")                      'telega)                                     ; æ‰“å¼€telega
  (global-set-key (kbd "C-z C-p C-d")                      'deadgrep)                                   ; æ‰“å¼€deapgrep
  (global-set-key (kbd "C-z C-p C-s")                      'eshell)                                     ; å¼€å¯eshellå£³
  (global-set-key (kbd "C-z C-p C-t")                      'eat)                                        ; å¼€å¯eatç»ˆç«¯æ¨¡æ‹Ÿå™¨
  (global-set-key (kbd "C-c C-p C-l")                      'eglot)                                      ; å¼€å¯eglotè¯­è¨€æœåŠ¡å®¢æˆ·ç«¯
  (global-set-key (kbd "C-c C-p C-c")                      'corfu-mode)                                 ; å¼€å¯corfuè½»é‡è¡¥å…¨æ¡†æ¶
  (global-set-key (kbd "C-z C-z C-1")                      'magit)                                      ; æ‰“å¼€magit


  (provide 'key-keybindings)  
#+end_src


****** ğŸ“ elisp ğŸ“ note ğŸ”§ note-auctex.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/note/note-auctex.el
  ;; ========================================
  ;; LaTeXç¼–å†™ note-auctex.el
  ;; ========================================
  (use-package auctex
    :ensure t
    :defer t
    
    :init
    ;; ========================================
    ;; AUCTeXç›¸å…³
    ;; ========================================
    (setq-default TeX-engine 'xetex)                                      ; æ›´æ”¹AUCTeXçš„æ¸²æŸ“å¼•æ“ä»pdflatexåˆ°xelatex
    (setq-default TeX-command-default "LatexMk")                          ; ä½¿ç”¨ latexmk
    (setq latexmk-command "latexmk -pdf -xelatex")                        ; æŒ‡å®š latexmk ä½¿ç”¨ XeLaTeX

    ;; ========================================
    ;; å»ºè®®æ·»åŠ çš„
    ;; ========================================
    (setq-default TeX-master nil)
    (setq TeX-parse-selt t)

    (setq-default TeX-PDF-mode t)                                         ; PDFè¾“å‡º
    (setq TeX-source-correlate-mode t)
    (setq TeX-source-correlate-method 'synctex)
    (setq TeX-clean-intermediate t)                                       ; æ¸…ç†ä¸­é—´æ–‡ä»¶
    (setq TeX-view-program-selection '((output-pdf "PDF Tools"))
          TeX-source-correlate-start-server t))                           ; pdf-tools(20240429.407)ä½œä¸ºpdf-viewer


  (provide 'note-auctex)  
#+end_src


****** ğŸ“ elisp ğŸ“ note ğŸ”§ note-orgmode.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/note/note-orgmode.el
  ;; ========================================
  ;; orgç¬”è®°åŠä»»åŠ¡ç®¡ç† note-orgmode.el
  ;; ========================================
  (use-package org
    :ensure t
    :defer nil)
   

  ;; ========================================
  ;; org-babel(C-c ') èƒ½åŠ è½½ LaTeX
  ;; ========================================
  (org-babel-do-load-languages 
    'org-babel-load-languages 
    '((latex . t)))


  ;; ========================================
  ;; valign è™šæ‹Ÿå¯¹é½
  ;; ========================================
  (use-package valign
    :ensure t
    :defer nil)


  ;; ========================================
  ;; org-mode æ·»åŠ  lataex-header
  ;; ========================================
  (setq org-format-latex-header "\\documentclass{article}
                                 \\usepackage[usenames]{color}
                                 [DEFAULT-PACKAGES]
                                 [PACKAGES]
                                 \\usepackage{esint}
                                 \\pagestyle{empty}             % do not remove
                                 % The settings below are copied from fullpage.sty
                                 \\setlength{\\textwidth}{\\paperwidth}
                                 \\addtolength{\\textwidth}{-3cm}
                                 \\setlength{\\oddsidemargin}{1.5cm}
                                 \\addtolength{\\oddsidemargin}{-2.54cm}
                                 \\setlength{\\evensidemargin}{\\oddsidemargin}
                                 \\setlength{\\textheight}{\\paperheight}
                                 \\addtolength{\\textheight}{-\\headheight}
                                 \\addtolength{\\textheight}{-\\headsep}
                                 \\addtolength{\\textheight}{-\\footskip}
                                 \\addtolength{\\textheight}{-3cm}
                                 \\setlength{\\topmargin}{1.5cm}
                                 \\addtolength{\\topmargin}{-2.54cm}")    ; è®¾ç½®org-modeçš„latex-header(+esint)


  ;; ========================================
  ;; ä½¿ç”¨ xelatex æ¸²æŸ“ latex-fragment
  ;; ========================================
  (add-to-list 'org-preview-latex-process-alist
                       '(xelatex-chinese
                         :programs ("xelatex" "convert")
                         :description "XeLaTeX with Chinese support dvi > png"
                         :message "you need to install the programs: xelatex and divpng."
                         :image-input-type "pdf"
                         :image-output-type "png"
                         :image-size-adjust (1.7 . 1.5)
                         :latex-header "\\documentclass[11pt]{standalone}
                                        \\usepackage{fontspec}
                                        \\setmainfont{Source Han Sans CN}
                                        \\setsansfont{Source Han Sans CN}
                                        \\usepackage[usenames]{color}
                                        \\usepackage{amsmath}
                                        \\pagestyle{empty}"
                         :latex-compiler ("xelatex -interaction nonstopmode -output-directory %o %f")
                         :image-converter ("convert -density 90 %f %O")))


  ;; ========================================
  ;; è®¾ç½®æ›´å¤šå¯ç”¨çš„org-todo
  ;; ========================================
  (setq org-todo-keywords
        '((sequence "TODO" "DOING" "WAIT" "DONE" "MY")))


  (provide 'note-orgmode)  
#+end_src


****** ğŸ“ elisp ğŸ“ note ğŸ”§ note-orgroam.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/note/note-orgroam.el
  ;; ========================================
  ;; note-orgroam.el åŒé“¾ç¬”è®°(å¡ç‰‡ç›’ç¬”è®°æ³•)
  ;; ========================================
  (use-package org-roam
    :ensure t
    :custom
    (org-roam-directory directory-org-roam-directory)
    (org-roam-dailies-directory (concat directory-org-roam-directory "/daily/"))
    (org-roam-db-gc-threshold most-positive-fixnum)
    :config
    (require 'org-roam-dailies)
    (org-roam-db-autosync-mode))

  (use-package org-roam-ui
    :ensure t
    :after org-roam
    :custom
    (org-roam-ui-sync-theme t)
    (org-roam-ui-follow t)
    (org-roam-ui-update-on-save t))


  (provide 'note-orgroam)  
#+end_src



****** ğŸ“ elisp ğŸ“ ui ğŸ“ decorate ğŸ”§ ui-decorate-dashboard.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/ui/decorate/ui-decorate-dashboard.el
  ;; ========================================
  ;; æ¬¢è¿ç•Œé¢ ui-decorate-dashboard.el
  ;; ========================================
  (use-package dashboard
    :ensure t
    :config
    (dashboard-setup-startup-hook)

    ;; ========================================
    ;; è®¾ç½®dashboardçš„åŸºæœ¬ä¿¡æ¯
    ;; ========================================
    :init
    (setq dashboard-banner-logo-title "pğŸ˜­q çœŸæ­£çš„ç¼–è¾‘å™¨: GNU Emacs"
          dashboard-startup-banner    "/home/une/.wallpaper/dashboard-zoom-out-light.png"
          dashboard-center-content t
          dashboard-vertically-center-content t
          dashboard-show-shortcuts nil)

    ;; ========================================
    ;; è®¾ç½®è¦å±•ç¤ºçš„dashboardä¿¡æ¯
    ;; ========================================
    (setq dashboard-set-navigator t)
    (setq dashboard-navigator-buttons
          `(
            (
             ;; Recent Files
             (,
              "ï‘¤  æœ€è¿‘ R" ""
              (lambda (&rest _) (consult-recent-file))
              nil "")

             ;; Bookmarks
             (,
              "ï‘¡  ä¹¦ç­¾ B" ""
              (lambda (&rest _) (bookmark-bmenu-list))
              nil "")

             ;; Agenda
             (,
              "ó±‡˜  è®®ç¨‹ A" ""
              (lambda (&rest _) (org-agenda))
              nil ""))))

    ;; ========================================
    ;; è®¾ç½®è¦å±•ç¤ºçš„dashboardä¿¡æ¯
    ;; ========================================
    (setq dashboard-startupify-list '(dashboard-insert-newline
                                      dashboard-insert-banner
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-banner-title
                                      dashboard-insert-newline
                                      dashboard-insert-navigator
                                      dashboard-insert-newline
                                      dashboard-insert-init-info
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline
                                      dashboard-insert-newline))

      ;; å¯ç”¨ recentf-mode
      (recentf-mode 1)

      ;; è®¾ç½®æœ€è¿‘æ–‡ä»¶åˆ—è¡¨çš„æœ€å¤§é•¿åº¦
      (setq recentf-max-saved-items 100)  ;; è®¾ç½®æœ€å¤šè®°å½• 100 ä¸ªæ–‡ä»¶

      ;; å®Œæˆåˆå§‹åŒ–
      (dashboard-open))

  ;; ========================================
  ;; è®¾ç½®å¿«æ·é”®
  ;; ========================================
  (with-eval-after-load 'dashboard
    (define-key dashboard-mode-map (kbd "R") #'consult-recent-file)
    (define-key dashboard-mode-map (kbd "B") #'bookmark-bmenu-list)
    (define-key dashboard-mode-map (kbd "A") #'org-agenda-list))


  (provide 'ui-decorate-dashboard)  
#+end_src


****** ğŸ“ elisp ğŸ“ ui ğŸ“ font ğŸ”§ ui-font-sauce.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/ui/font/ui-font-sauce.el
  ;; ========================================
  ;; å­—ä½“è®¾ç½® ui-font-sauce.el
  ;; ========================================

  ;; ========================================
  ;; å…¨å±€é»˜è®¤å­—ä½“è®¾ç½®
  ;; ========================================
  (set-face-attribute 'default nil 
                      :height 90
                      :font "SauceCodeProNerdFontCompleteMono Nerd Font")

  ;; ========================================
  ;; è®¾ç½®bufferçš„å­—ä½“
  ;; ========================================
  (centaur-tabs-change-fonts "SauceCodeProNerdFontCompleteMono Nerd Font" 90)


  (provide 'ui-font-sauce)  
#+end_src


****** ğŸ“ elisp ğŸ“ ui ğŸ“ icon ğŸ”§ ui-icon-nerdfont.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/ui/decorate/ui-icon-nerdfont.el
  ;; ========================================
  ;; å›¾æ ‡è®¾ç½® ui-icon-nerdfont.el
  ;; ========================================
  (use-package nerd-icons
    :ensure t
    :custom (nerd-icons-font-family "Symbols Nerd Font Mono"))

  (use-package nerd-icons-corfu
    :ensure t
    :init)

  (use-package nerd-icons-dired
    :ensure t
    :hook
    (dired-mode . nerd-icons-dired-mode))

  (use-package nerd-icons-ibuffer
    :ensure t
    :defer t
    :hook (ibuffer-mode . nerd-icons-ibuffer-mode))


  (provide 'ui-icon-nerdfont)  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ ui-modeline-bar.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/ui/modeline/ui-modeline-bar.el
  ;; ========================================
  ;; mode-lineè®¾ç½® ui-modeline-bar.el
  ;; ========================================
  (defvar modeline-calendar-month "")
  (defvar modeline-calendar-day "")
  (defvar modeline-calendar-week "")
  (defvar modeline-time-hour "")
  (defvar modeline-time-minute "")
  (defvar modeline-battery-percentage "")
  (defvar modeline-distribution "")
  (defvar modeline-disk-usage "")
  (defvar modeline-cpu-temperature "")
  (defvar modeline-ram-usage "")
  (defvar modeline-pacman-packages "")
  (defvar modeline-weather-situation "")
  (defvar modeline-agenda-todo-count 0)
  (defvar modeline-agenda-doing-count 0)
  (defvar modeline-agenda-wait-count 0)
  (defvar modeline-agenda-file-name "")


  ;; ========================================
  ;; å…³äºå½“å‰æ—¥æœŸ
  ;; ========================================
  (defun update-modeline-calendar-month ()
    (setq modeline-calendar-month
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "calendar-month.sh")))))
  (defun update-modeline-calendar-day ()
    (setq modeline-calendar-day
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "calendar-day.sh")))))
  (defun update-modeline-calendar-week ()
    (setq modeline-calendar-week
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "calendar-week.sh")))))
  ;; ========================================
  ;; å…³äºå½“å‰æ—¶é—´
  ;; ========================================
  (defun update-modeline-time-hour ()
    (setq modeline-time-hour
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "time-hour.sh")))))
  (defun update-modeline-time-minute ()
    (setq modeline-time-minute
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "time-minute.sh")))))
  ;; ========================================
  ;; å…³äºç”µæ± ä¿¡æ¯
  ;; ========================================
  (defun update-modeline-battery-percentage ()
    (setq modeline-battery-percentage 
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "battery-percentage.sh")))))
  ;; ========================================
  ;; å…³äºå‘è¡Œç‰ˆä¿¡æ¯
  ;; ========================================
  (defun update-modeline-distribution ()
    (setq modeline-distribution (string-trim 
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "distribution.sh"))))))
  (defun update-modeline-pacman-packages ()
    (setq modeline-pacman-packages (string-trim 
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "pacman-packages.sh"))))))
  ;; ========================================
  ;; å…³äºä½¿ç”¨ç‡
  ;; ========================================
  (defun update-modeline-disk-usage ()
    (setq modeline-disk-usage (string-trim
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "disk-usage.sh"))))))
  (defun update-modeline-cpu-temperature ()
    (setq modeline-cpu-temperature (string-trim
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "cpu-temperature.sh"))))))
  (defun update-modeline-ram-usage ()
    (setq modeline-ram-usage (string-trim
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "ram-usage.sh"))))))
  ;; ========================================
  ;; å…³äºå½“åœ°å¤©æ°”
  ;; ========================================
  (defun update-modeline-weather-situation ()
    (setq modeline-weather-situation (string-trim
          (string-trim
            (shell-command-to-string
              (concat user-emacs-directory directory-modeline-path-suffix "weather-situation.sh"))))))


  ;; ========================================
  ;; å…³äºè®®ç¨‹
  ;; ========================================
  (defun my-count-agenda-file-tasks (file-path)
    "æ›´æ–°æŒ‡å®šè·¯å¾„è®®ç¨‹æ–‡ä»¶çš„agendaä¿¡æ¯"
    (interactive)
    (setq modeline-agenda-todo-count 0)
    (setq modeline-agenda-doing-count 0)
    (setq modeline-agenda-wait-count 0)
    (setq modeline-agenda-file-name (file-name-nondirectory file-path))
    ;; æ‰“å¼€ä¸´æ—¶buffer
    (with-temp-buffer
      (insert-file-contents file-path)
      (goto-char (point-min))
      (while (re-search-forward org-heading-regexp nil t)
        (let ((headline (match-string 0)))
          (cond
           ((string-match-p "\\*+ TODO" headline) (setq modeline-agenda-todo-count (1+ modeline-agenda-todo-count)))
           ((string-match-p "\\*+ DOING" headline) (setq modeline-agenda-doing-count (1+ modeline-agenda-doing-count)))
           ((string-match-p "\\*+ WAIT" headline) (setq modeline-agenda-wait-count (1+ modeline-agenda-wait-count))))))))
  (defun update-modeline-agenda-file-tasks ()
    "ç»Ÿè®¡æŒ‡å®šæ–‡ä»¶2025.orgçš„ä»»åŠ¡"
    (my-count-agenda-file-tasks file-org-agenda-files))


  ;; ========================================
  ;; å®šæœŸæ›´æ–°å˜é‡æ•°æ®
  ;; ========================================
  (run-at-time "0 sec" 180   'update-modeline-time-hour)           ; æ¯3åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡æ—¶é—´å°æ—¶ä¿¡æ¯
  (run-at-time "0 sec" 60    'update-modeline-time-minute)         ; æ¯1åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡æ—¶é—´åˆ†é’Ÿä¿¡æ¯
  (run-at-time "0 sec" 43200 'update-modeline-calendar-day)        ; æ¯12å°æ—¶æ›´æ–°ä¸€æ¬¡æ—¥å†æœˆä»½ä¿¡æ¯
  (run-at-time "0 sec" 86400 'update-modeline-calendar-month)      ; æ¯24å°æ—¶æ›´æ–°ä¸€æ¬¡æ—¥å†æœˆä»½ä¿¡æ¯
  (run-at-time "0 sec" 120   'update-modeline-battery-percentage)  ; æ¯2åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ç”µæ± ä¿¡æ¯
  (run-at-time "0 sec" 86400 'update-modeline-distribution)        ; æ¯1å¤©æ›´æ–°ä¸€æ¬¡å‘è¡Œç‰ˆä¿¡æ¯
  (run-at-time "0 sec" 86400 'update-modeline-disk-usage)          ; æ¯1å¤©æ›´æ–°ä¸€æ¬¡ç£ç›˜ä½¿ç”¨é‡ä¿¡æ¯
  (run-at-time "0 sec" 15    'update-modeline-cpu-temperature)     ; æ¯15ç§’æ›´æ–°ä¸€æ¬¡CPUæ¸©åº¦ä¿¡æ¯
  (run-at-time "0 sec" 15    'update-modeline-ram-usage)           ; æ¯15ç§’æ›´æ–°ä¸€æ¬¡å†…å­˜ä½¿ç”¨é‡ä¿¡æ¯
  (run-at-time "0 sec" 43200 'update-modeline-pacman-packages)     ; æ¯12å°æ—¶æ›´æ–°ä¸€æ¬¡åŒ…æ€»æ•°ä¿¡æ¯
  (run-at-time "0 sec" 1800  'update-modeline-weather-situation)   ; æ¯30åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡å½“å‰å¤©æ°”ä¿¡æ¯
  (run-at-time "0 sec" 43200 'update-modeline-calendar-week)       ; æ¯12å°æ—¶æ›´æ–°ä¸€æ¬¡å½“å‰æ˜ŸæœŸä¿¡æ¯
  (run-at-time "0 sec" 1800  'update-modeline-agenda-file-tasks)   ; æ¯30åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡æ—¶é—´tasksä»»åŠ¡ä¿¡æ¯


  ;; ========================================
  ;; å…³äºçŠ¶æ€æ 
  ;; ========================================
  (defun update-modeline-with-all-scripts ()
    "æ˜¾ç¤ºçŠ¶æ€æ é™¤è®®ç¨‹æ•°é‡ä¹‹å¤–çš„ä¿¡æ¯"
    (setq global-mode-string
          (list "   ó°ƒ¯ " ;
                modeline-calendar-month
                modeline-calendar-day
                " î®¯ "
                modeline-calendar-week              
                " î‰ "                           
                modeline-time-hour
                ":"
                modeline-time-minute
                "    ï‰ ."
                modeline-battery-percentage
                " ïŒƒ "
                modeline-distribution              
                "   ï‹‡ "
                modeline-cpu-temperature              
                "Â°C ï‚  ."
                modeline-disk-usage
                " ó°„¨ "
                modeline-ram-usage
                " ó°– "
                modeline-pacman-packages
                "  "
                modeline-weather-situation
                "  "
                (format "ó°„’ TODO %d " modeline-agenda-todo-count)
                (format "ó±¿ DOING %d " modeline-agenda-doing-count)
                (format "ó°• WAIT %d " modeline-agenda-wait-count)
                "- î˜³ "
                modeline-agenda-file-name
                "")))


  ;; ========================================
  ;; è®¾ç½®ä¸åŒçš„ä¿¡æ¯æ›´æ–°å®šæ—¶å™¨
  ;; ========================================
  (run-at-time "0 sec" 60    'update-modeline-with-all-scripts)    ; æ¯60ç§’æ›´æ–°ä¸€æ¬¡çŠ¶æ€æ é™¤è®®ç¨‹æ•°é‡ä¹‹å¤–çš„ä¿¡æ¯


  (provide 'ui-modeline-bar)  
#+end_src


****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ battery-percentage.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/battery-percentage.sh
  upower -i /org/freedesktop/UPower/devices/battery_BAT0 | grep percentage | cut -c 25-30  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ calendar-day.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/calendar-day.sh
  date | cut -c '15-19'  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ calendar-month.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/calendar-month.sh
  date | cut -c '9-13'  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ calendar-week.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/calendar-week.sh
  date "+%A"  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ cpu-temperature.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/cpu-temperature.sh
  CPU_TEMP="$(cat /sys/devices/platform/coretemp.0/hwmon/hwmon6/temp2_input | awk '{sub(/000$/, "Â°C", $0); print}' | cut -c 1-2)"
  echo "${CPU_TEMP:-null}"  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ disk-usage.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/disk-usage.sh
  df -h | grep 132G | cut -c '36-37'  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ distribution.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/distribution.sh
  cat /etc/os-release | grep "NAME" | sed -n '1p' | cut -c '7-16'      
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ pacman-packages.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/pacman-packages.sh
  pacman -Q | wc -l  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ ram-usage.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/ram-usage.sh
  ram_usage=$(free -h | grep Gi | sed -n '1p' | cut -c '30-31' | tr -d ' ')

  if [ "$ram_usage" -gt 7 ]; then
      echo "$(free -h | grep Mi | sed -n '1p' | cut -c '31-33' | tr -d ' ')M"
  else
      echo "$(free -h | grep Gi | sed -n '1p' | cut -c '31-33' | tr -d ' ')G"
  fi  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ time-hour.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/time-hour.sh
  date | cut -c '31-35' | cut -c '1-2'  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ time-minute.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/time-minute.sh
  date | cut -c '31-35' | cut -c '4-5'
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ modeline ğŸ”§ weather-situation.sh
#+begin_src sh :tangle ~/.config/emacs/elisp/ui/modeline/weather-situation.sh
  # ä¸€å®šè¦è®°å¾—å°†weatherå¤©æ°”æƒ…å†µä¿å­˜åœ¨~/.config/emacs/archiveæˆ–è€…ä¸‹é¢çš„è·¯å¾„è‡ªå·±æ ¹æ®å®é™…æƒ…å†µçº æ­£ä¸€ä¸‹
  # å¦‚æœæ•°æ®æ²¡æœ‰æ›´æ–°ï¼Œè¯·è‡ªå·±æ‰‹åŠ¨æ‹‰ä¸€ä¸‹ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶(æˆ–è¯·è‡ªå·±ä½¿ç”¨ä»˜è´¹API)

  weather_temperature=$(cat ~/.config/emacs/archive/weather | awk -F'[()]' '{print $2}' | grep -oP '[0-9]+' | sed -n '4p')
  weather_location1=$(cat ~/.config/emacs/archive/weather | sed -n '38p' | awk -F ', ' '{print $2}' | cut -c '1-9')
  weather_location2=$(cat ~/.config/emacs/archive/weather | sed -n '38p' | awk -F ', ' '{print $3}')
  echo "ó°«• $weather_temperatureÂ°C $weather_location1, $weather_location2"  
#+end_src

****** ğŸ“ elisp ğŸ“ ui ğŸ“ theme ğŸ”§ ui-theme-dark.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/ui/theme/ui-theme-dark.el
  ;; ========================================
  ;; ä¸»é¢˜è®¾ç½® ui-theme-dark.el
  ;; ========================================
  (use-package bliss-theme
    :ensure nil
    :defer t)


  (provide 'ui-theme-dark)  
#+end_src


****** ğŸ“ elisp ğŸ“ ui ğŸ“ theme ğŸ”§ ui-theme-light.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/ui/theme/ui-theme-light.el
  ;; ========================================
  ;; ä¸»é¢˜è®¾ç½® ui-theme-light.el
  ;; ========================================
  (use-package nano-theme
    :ensure nil
    :defer t
    :init
    (load-theme 'nano-light t t))


  ;; ========================================
  ;; é»˜è®¤åŠ è½½nano-lightä¸»é¢˜
  ;; ========================================
  (add-to-list 'custom-safe-themes "e7820b899036ae7e966dcaaec29fd6b87aef253748b7de09e74fdc54407a7a02")
  (load-theme 'nano-light t)
  (setq custom-safe-thems '("e7820b899036ae7e966dcaaec29fd6b87aef253748b7de09e74fdc54407a7a02" default))
  (setq custom-safe-themsdefault '("e7820b899036ae7e966dcaaec29fd6b87aef253748b7de09e74fdc54407a7a02" default))


  ;; ========================================
  ;; ä¸ºvertico-currentæ·»åŠ faceé¢œè‰²
  ;; ========================================
  (custom-set-faces
   '(vertico-current ((t (:background "#b5ffd1")))))


  ;; ========================================
  ;; ä¸ºtelega-headingæ·»åŠ faceé¢œè‰²
  ;; ========================================
  (with-eval-after-load 'telega
    (custom-set-faces
     '(telega-msg-heading ((t (:background "#ffffff" :extend nil))))))


  ;; ========================================
  ;; corfuå¼¹å‡ºçª—å£é¢œè‰²è®¾ç½®
  ;; ========================================
  (with-eval-after-load 'corfu
    (custom-set-faces
     '(corfu-default ((t (:background "#ffffff"))))
     '(corfu-border  ((t (:background "#37474f"))))
     '(corfu-current ((t (:background "#cfd8dc" :foreground "#37474f"))))))


  ;; ========================================
  ;; ä¸ºdirvish-hl-lineæ·»åŠ faceé¢œè‰²
  ;; ========================================
  (with-eval-after-load 'dirvish
    (custom-set-faces
     '(dirvish-hl-line ((t (:background "#cfd8dc" :foreground "#37474f"))))))


  ;; ========================================
  ;; ä¸ºvertico-posframeæ·»åŠ faceé¢œè‰²
  ;; ========================================
  (custom-set-faces
   '(vertico-group-separator ((t (:background "#37474f" :foreground "#FFFFFF"))))
   '(vertico-group-title     ((t (:background "#37474f" :foreground "#FFFFFF")))))


  ;; ========================================
  ;; ä¸ºregionæ·»åŠ faceé¢œè‰²
  ;; ========================================
  (custom-set-faces
   '(region ((t (:background "#eceff1")))))


  ;; ========================================
  ;; äº®è‰²isearch
  ;; ========================================
  (custom-set-faces
   '(isearch-fail ((t (:foreground "#37474f" :background "#ffffff")))))


  ;; ========================================
  ;; äº®è‰²agenda
  ;; ========================================
  (custom-set-faces
   '(org-agenda-structure     ((t (:background "#37474f" :foreground "#ffffff"))))   ; ç»“æ„ä¿¡æ¯
   '(org-agenda-date          ((t (:background "#ffffff" :foreground "#673ab7"))))   ; æ˜ŸæœŸä¿¡æ¯ 
   '(org-agenda-date-today    ((t (:background "#cfd8dc" :foreground "#37474f"))))   ; ä»Šå¤©æ—¶é—´
   '(org-agenda-current-time  ((t (:background "#ffffff" :foreground "#673ab7"))))   ; å½“å‰æ—¶é—´ 
   '(org-time-grid            ((t (:background "#ffffff" :foreground "#37474f"))))   ; æ—¶é—´åˆ»åº¦çº¿
   '(org-scheduled-today      ((t (:background "#ffffff" :foreground "#000000"))))   ; ä»Šå¤©çš„å®‰æ’ 
   '(org-imminent-deadline    ((t (:background "#ffffff" :foreground "#37474f"))))   ; å³å°†åˆ°æœŸçš„è®®ç¨‹
   '(org-scheduled-previously ((t (:background "#ffffff" :foreground "#cfd8dc"))))   ; å…ˆå‰å®Œæˆæˆ–å…ˆå‰æœªå®Œæˆçš„è®®ç¨‹
   '(org-todo                 ((t (:background "#ffffff" :foreground "#673ab7"))))   ; è®®ç¨‹çŠ¶æ€
   '(org-upcoming-deadline    ((t (:background "#ffffff" :foreground "#673ab7"))))   ; å³å°†è¿‡æœŸçš„
   '(org-default              ((t (:background "#ffffff" :foreground "#37474f")))))  ; å‰©ä½™è®®ç¨‹


  (provide 'ui-theme-light)  
#+end_src



****** ğŸ“ elisp ğŸ“ zprogramming ğŸ“ cmp ğŸ”§ zprogramming-cmp-corfu.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/zprogramming/cmp/zprogramming-cmp-corfu.el
  ;; =======================================
  ;; è¡¥å…¨æ¡†æ¶ enhance-corfu.el 
  ;; =======================================


  ;; =======================================
  ;; è½»é‡è¡¥å…¨æœ¬ä½“
  ;; =======================================
  (use-package corfu
    :config
    (setq corfu-auto t
          corfu-cycle t
          corfu-quit-at-boundary t
          corfu-quit-no-match t
          corfu-preview-current nil
          corfu-min-width 20
          corfu-max-width 100
          corfu-auto-delay 0.2
          corfu-auto-prefix 1
          corfu-on-exact-match nil)

    :hook
    ((shell-mode      . corfu-mode)
    (eshell-mode      . corfu-mode)
    (LaTeX-mode       . corfu-mode)
    (latex-mode       . corfu-mode)
    (emacs-lisp-mode  . corfu-mode)))


  ;; =======================================
  ;; corfuå›¾æ ‡è®¾ç½®
  ;; =======================================
  (with-eval-after-load 'corfu
    (add-to-list 'corfu-margin-formatters #'nerd-icons-corfu-formatter))


  (provide 'zprogramming-cmp-corfu)  
#+end_src


****** ğŸ“ elisp ğŸ“ zprogramming ğŸ“ lsp ğŸ”§ zprogramming-lsp-eglot.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/zprogramming/lsp/zprogramming-lsp-eglot.el
  ;; =======================================
  ;; LSPå®¢æˆ·ç«¯ zprogramming-lsp-eglot.el 
  ;; =======================================
  (use-package eglot
               :ensure t
               :defer t)


  (provide 'zprogramming-lsp-eglot)  
#+end_src


****** ğŸ“ elisp ğŸ“ zprogramming ğŸ“ mode ğŸ”§ zprogramming-mode-cmake.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/zprogramming/mode/zprogramming-mode-cmake.el
  ;; =======================================
  ;; æ¨¡å¼è¯†åˆ« zprogramming-mode-cmake.el
  ;; =======================================
  (use-package cmake-mode
               :ensure t
               :defer t)


  (provide 'zprogramming-mode-cmake)  
#+end_src


****** ğŸ“ elisp ğŸ“ zprogramming ğŸ“ snips ğŸ”§ zprogramming-snips-yasnippet.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/zprogramming/snips/zprogramming-snips-yasnippet.el
  ;; =======================================
  ;; å¿«é€Ÿè¾“å…¥ç‰‡æ®µ zprogramming-snips-yasnippet.el 
  ;; =======================================
  (use-package yasnippet
               :ensure t
               :demand
               :hook
               (LaTeX-mode . yas-global-mode))  ; è¾“å…¥ç‰‡æ®µçš„æœ¬ä½“å·¥å…·

  (use-package yasnippet-snippets
               :ensure t)            ; æä¾›å…·ä½“è¾“å…¥ç‰‡æ®µçš„å·¥å…·


  (provide 'zprogramming-snips-yasnippet)  
#+end_src


****** ğŸ“ elisp ğŸ“ zprogramming ğŸ“ ts ğŸ”§ zprogramming-ts-treesitter.el
#+begin_src elisp :tangle ~/.config/emacs/elisp/zprogramming/ts/zprogramming-ts-treesitter.el
  ;; =======================================
  ;; é™æ€è¯­æ³•æŠ½è±¡æ ‘ zprogramming-ts-treesitter.el 
  ;; =======================================
  (use-package tree-sitter
               :ensure t
               :defer t)

  (use-package tree-sitter-langs
               :ensure t
               :defer nil)


  (provide 'zprogramming-ts-treesitter)  
#+end_src


**** (4) fastfetch
***** æ–‡ä»¶ç»“æ„
#+begin_quote
ğŸ”§ ff.jsonc
#+end_quote

***** æ–‡ä»¶é…ç½®
****** ğŸ”§ ff.jsonc
#+begin_src jsonc :tangle ~/.config/fastfetch/ff.jsonc
{
    "$schema": "https://github.com/fastfetch-cli/fastfetch/raw/dev/doc/json_schema.json",
    "logo": {
        "padding": {
            "top": 2,
            "left": 3
        }   
    },
    "display": {
      "separator": "  â†’ "
    },
    "modules": [
        "break",
        "title",
        "separator",
        {
            "type": "os",
            "key": "ïŒƒ",
            "format": "{3} {12}",
            "keyColor": "blue"
        },
        {
            "type": "kernel",
            "key": "ï€“",
            "keyColor": "blue"
        },
        {
            "type": "host",
            "key": "ï’©",
            "format": "{/2}{-}{/}{2}{?3} {3}{?}",
            "keyColor": "blue"
        },
        {
            "type": "uptime",
            "key": "ó°…",
            "keyColor": "blue"
        },
        {
            "type": "packages",
            "key": "ó°–",
            "keyColor": "blue"
        },
        {
            "type": "shell",
            "key": "ï’‰",
            "keyColor": "blue"
        },
        {
            "type": "display",
            "compactType": "original",
            "key": "ó°º",
            "keyColor": "blue"
        },
        {
            "type": "wm",
            "key": "ï’ˆ",
            "keyColor": "blue"
        },
        {
            "type": "lm",
            "key": "ó°§¨",
            "keyColor": "blue"
        },
        {
            "type": "wmtheme",
            "key": "ó°‰¼",
            "keyColor": "blue"
        },
        {
            "type": "icons",
            "key": "î¾¨",
            "keyColor": "blue"
        },
        {
            "type": "terminal",
            "key": "ï„ ",
            "keyColor": "blue"
        },
        {
            "type": "cpu",
            "key": "ó±ªˆ",
            "keyColor": "blue"
        },
        {
            "type": "gpu",
            "key": "ó°––",
            "keyColor": "blue"
        },
        {
            "type": "memory",
            "key": "ó°«•",
            "keyColor": "blue",
            "format": "{/1}{-}{/}{/2}{-}{/}{} / {}"
        },
        "break",
        "colors",
        "break",
        "break"
    ]
}  
#+end_src




**** (5) i3
***** æ–‡ä»¶ç»“æ„
#+begin_quote
ğŸ”§ config
#+end_quote

***** æ–‡ä»¶é…ç½®
****** ğŸ”§ config
#+begin_src sh :tangle ~/.config/i3/config
  # è®¾ç½®Superé”®ä¸ºi3-wmèµ·å§‹é”®
  set $mod Mod4

  # è®¾ç½®å­—ä½“
  font pango:SauceCodeProNerdFontCompleteMono Nerd Font SemiBold 9

  # è‡ªå¯åŠ¨æœåŠ¡
  exec --no-startup-id dex --autostart --environment i3
  exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork
  exec --no-startup-id nm-applet
  exec_always fcitx5
  exec_always picom --backend glx
  exec setxkbmap -option "ctrl:nocaps"
  set $refresh_i3status killall -SIGUSR1 i3status
  exec emacs

  # fehå£çº¸
  exec --no-startup-id feh --bg-fill "/home/une/.wallpaper/20220518085627.jpg"

  # é¼ æ ‡ç»‘å®š
  # + é€šè¿‡Super_L + Mouse_Lï¼Œæ¥æ‹–åŠ¨floating windowåˆ°åˆ«çš„ä½ç½®
  # + é€šè¿‡Super_L + Mouse_Rï¼Œæ¥æ‹–åŠ¨floating windowåˆ°åˆ«çš„ä½ç½®
  floating_modifier $mod
  tiling_drag modifier titlebar

  # æŒ‰é”®ç»‘å®š
  # + å¤šåª’ä½“æŒ‰é”®
  bindsym XF86AudioMute exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
  bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
  # + å¸¸è§„é”®é…ç½®
  bindsym $mod+Return exec alacritty
  bindsym $mod+O exec alacritty
  bindsym $mod+BackSpace kill
  bindsym $mod+I exec firefox
  bindsym $mod+G exec emacs
  bindsym $mod+L exec rofi -show window
  bindsym $mod+M exec rofi -show drun
  bindsym $mod+A exec spectacle
  bindsym $mod+J layout toggle split
  # + æ›´æ”¹å…‰æ ‡ç„¦ç‚¹
  bindsym $mod+b focus left
  bindsym $mod+n focus down
  bindsym $mod+p focus up
  bindsym $mod+f focus right
  # + ç§»åŠ¨çª—å£ä½ç½®
  bindsym $mod+Shift+B move left
  bindsym $mod+Shift+N move down
  bindsym $mod+Shift+P move up
  bindsym $mod+Shift+F move right
  # + çª—å£å…¨å±
  bindsym $mod+E fullscreen toggle
  # + çª—å£å¹³é“ºæµ®åŠ¨åˆ‡æ¢
  bindsym $mod+t floating toggle
  # + çª—å£å¹³é“ºæµ®åŠ¨åˆ‡æ¢
  bindsym $mod+shift+t focus mode_toggle

  # å·¥ä½œåŒºè®¾ç½®
  set $ws1 "1"
  set $ws2 "2"
  set $ws3 "3"
  set $ws4 "4"
  set $ws5 "5"
  set $ws6 "6"
  set $ws7 "7"
  set $ws8 "8"
  set $ws9 "9"
  set $ws10 "10"
  bindsym $mod+1 workspace number $ws1
  bindsym $mod+2 workspace number $ws2
  bindsym $mod+3 workspace number $ws3
  bindsym $mod+4 workspace number $ws4
  bindsym $mod+5 workspace number $ws5
  bindsym $mod+6 workspace number $ws6
  bindsym $mod+7 workspace number $ws7
  bindsym $mod+8 workspace number $ws8
  bindsym $mod+9 workspace number $ws9
  bindsym $mod+0 workspace number $ws10
  bindsym $mod+Left workspace prev_on_output;
  bindsym $mod+Right workspace next_on_output;
  bindsym $mod+Ctrl+1 move container to workspace number $ws1
  bindsym $mod+Ctrl+2 move container to workspace number $ws2
  bindsym $mod+Ctrl+3 move container to workspace number $ws3
  bindsym $mod+Ctrl+4 move container to workspace number $ws4
  bindsym $mod+Ctrl+5 move container to workspace number $ws5
  bindsym $mod+Ctrl+6 move container to workspace number $ws6
  bindsym $mod+Ctrl+7 move container to workspace number $ws7
  bindsym $mod+Ctrl+8 move container to workspace number $ws8
  bindsym $mod+Ctrl+9 move container to workspace number $ws9
  bindsym $mod+Ctrl+0 move container to workspace number $ws10

  # é‡æ–°åŠ è½½i3
  bindsym $mod+c reload
  bindsym $mod+r restart

  # è°ƒæ•´windowå¤§å°
  bindsym $mod+w mode "resize"
  mode "resize" {
          bindsym b resize shrink width 10 px or 10 ppt
          bindsym n resize grow height 10 px or 10 ppt
          bindsym p resize shrink height 10 px or 10 ppt
          bindsym f resize grow width 10 px or 10 ppt
          bindsym $mod+w mode "default"
  }

  # è‡ªåŠ¨éšè—çª—å£æ ‡é¢˜
  for_window [class="^.*"] border pixel 0  
#+end_src


**** (6) picom
***** æ–‡ä»¶ç»“æ„
#+begin_quote
ğŸ”§ picom.conf
#+end_quote

***** æ–‡ä»¶é…ç½®
****** ğŸ”§ picom.conf
#+begin_src sh :tangle ~/.config/picom/picom.conf
  # corner-radius = 15;
  round-border = 6;  
#+end_src


**** (7) vim
***** æ–‡ä»¶ç»“æ„
#+begin_quote
ğŸ”§ vimrc
#+end_quote

***** æ–‡ä»¶é…ç½®
****** ğŸ”§ vimrc
#+begin_src vimscript :tangle ~/.config/vim/vimrc
" 
" settings
" 
set t_Co=256
set expandtab
set hlsearch
set incsearch
set smartcase
set tw=0
set encoding=utf-8
set hidden
set updatetime=100
set shortmess+=c
set backspace=indent,eol,start
set ruler
set title
set nocompatible
set modeline
set modelines=6
set belloff=all
set nrformats=
set wildmenu
set history=200
set foldlevel=99
set laststatus=0
set autochdir
set textwidth=500
set conceallevel=0
set jumpoptions=stack
syntax on
autocmd FileType json set conceallevel=0
" set tabstop=2
" set softtabstop=2
" set shiftwidth=2
" set autoindent
" set indentexpr=
" set foldmethod=indent

" 
" colorscheme
" 
nnoremap <leader><leader>n :colorscheme habamax<CR>
nnoremap <leader><leader>d :colorscheme delek<CR>
colorscheme habamax

set cursorline
set cursorlineopt=number
autocmd ColorScheme * highlight CursorLineNr cterm=bold term=bold gui=bold
highlight LineNr ctermfg=238
:set number
:augroup numbertoggle
:   autocmd!
:   autocmd BufEnter, FocusGained, InsertLeave, WinEnter * if &nu && mode() != "i" | set rnu | endif
:   autocmd BufLeave, FocusLost, InsertEnter, WinLeave * if &nu | set nornu | endif
:augroup END
highlight CursorLineNr ctermfg=179

" 
" keymapping
" 
map J 5j
map sn :set nonumber<CR>
map K 5k
nnoremap S :w<CR>
nnoremap s <nop>
nnoremap Q :q<CR>
nnoremap <leader>q :q!<CR>
nnoremap sj :set splitbelow<CR>:split<CR>
nnoremap sk :set nosplitbelow<CR>:split<CR>
nnoremap sh :set nosplitright<CR>:vsplit<CR>
nnoremap sl :set splitright<CR>:vsplit<CR>
tnoremap <ESC><ESC> <C-\><C-N>
map <down> :res +5<CR>
map <up> :res -5<CR>
map <right> :vertical resize -5<CR>
map <left> :vertical resize +5<CR>
nnoremap <leader>R :source ~/.vimrc<CR>
nnoremap [w :execute 'move -1-'. v:count1<CR>
nnoremap ]w :execute 'move +'. v:count1<CR>
vmap <leader>S y/<C-R>"<CR>
nnoremap <leader>e :set spell<CR>
nnoremap <leader>E :set nospell<CR>
nnoremap <leader>I :<C-u>PlugInstall<CR>
nnoremap M :Lexplore<CR><C-w>l<CR>
inoremap <C-e> <C-k>
nnoremap <leader>md :h digraph-table<CR>
cnoremap <expr> %% getcmdtype()==':'?expand('%:h').'/':'%%'

" 
" macros
" 
let @g="a<br /> \<ESC>"
let @r="i<br /> \<CR>\<ESC>"
let @c="```placeholder```\<ESC>bi\<CR>\<CR>\<ESC>kkel"

" 
" patch
" 
if has("patch-8.1.1564")
  set signcolumn=number
else
  set signcolumn=yes
endif

" 
" plugin
" 
call plug#begin()
   " [jiangmiao/auto-pairs]
   Plug 'jiangmiao/auto-pairs'

   " [ryanoasis/vim-devicons]
   Plug 'ryanoasis/vim-devicons'

   " [Yggdroot/indentLine]
   Plug 'Yggdroot/indentLine'
   let g:indentLine_color_term=102
   let g:markdown_syntax_conceal=0
   let g:indentLine_char_list=['|']
   nnoremap <leader>il :<C-u>IndentLinesToggle<CR>

   " [mhinz/vim-signify]
   Plug 'mhinz/vim-signify'
   highlight SignifySignAdd ctermfg=green cterm=NONE
   highlight SignifySignDelete ctermfg=red cterm=NONE
   highlight SignifySignChange ctermfg=yellow cterm=NONE
   nnoremap <leader>gj <Plug>(signify-next-hunk)
   nnoremap <leader>gk <Plug>(signify-prev-hunk)
  
   " [prabirshrestha/asyncomplete.vim]
   Plug 'prabirshrestha/asyncomplete.vim'
   inoremap <expr> <C-j> pumvisible() ? "\<C-n>" : "\<C-j>"
   inoremap <expr> <C-k> pumvisible() ? "\<C-p>" : "\<C-k>"
   nnoremap <expr> <CR> pumvisible() ? asyncomplete#close_popup()

   if has('conceal')
     set conceallevel=2 concealcursor=niv
   endif

call plug#end()  
#+end_src


**** (8) rofi
***** æ–‡ä»¶ç»“æ„
#+begin_quote
ğŸ”§ config.rasi
ğŸ”§ forest.rasi
#+end_quote

***** æ–‡ä»¶é…ç½®
****** ğŸ”§ config.rasi
#+begin_src css :tangle ~/.config/rofi/config.rasi  
  configuration {
     	yoffset: -45;

    timeout {
        action: "kb-cancel";
        delay:  0;
    }
    filebrowser {
        directories-first: true;
        sorting-method:    "name";
    }
  }

  @theme "forest"  
#+end_src

****** ğŸ”§ forest.rasi
#+begin_src css :tangle ~/.config/rofi/forest.rasi
/******************************************************************************
 * ROFI Color theme: forest
 * User: kitevnn
 ******************************************************************************/


/*                 */
/* global settings */
/*                 */
* {
    font: "SauceCodeProNerdFontCompleteMono Nerd Font 12";
    scrollbar: true;
    
    forest-selected-text-shadow: #2E8B57;
    forest-selected:             #72D5A3;
    forest-box-border:           #60B48A;
    forest-box-background:       #2C2C2C;
    forest-orange:               #DFAF8F;
    forest-black:                #000000;
    forest-input:                #3A3A3A;
    forest-white:                #FFFFFF;
    forest-text-color:           #DCDCDC;
    text-color:                  @forest-text-color;
    background-color:            rgba ( 0, 0, 0, 0 % );
}
#window {
    background-color: @forest-box-background;
    border:           3px;
    padding:          2px;
    border-radius:    12px;
    border-color:     @forest-box-border;
}


/*                  */
/* element settings */
/*                  */
#element {
    border:  0;
    padding: 3px 0px 3px 18px;
    background-color: @forest-box-background;
}
#element.normal {
    text-color:       @forest-white;
}    
#element.selected {
    text-color:       @forest-selected;
    background-color: @forest-selected-text-shadow;
}
#element.alternate {
    text-color:       @forest-white;
}


/*                */
/* input settings */
/*                */
#case-indicator {
    spacing:    0;
    text-color: @forest-box-background;
}
#entry {
    spacing:    0;
    text-color: @forest-box-background;
}
#prompt {
    spacing:    0;
    text-color: @forest-box-background;    
}
#textbox-prompt-colon {
    expand:     false;
    str:        ":";
    margin:     0px 0.3em 0em 0em ;
    text-color: @forest-black;
}


/*              */
/* bar settings */
/*               */
#inputbar {
    children:   [ prompt,textbox-prompt-colon,entry,case-indicator ];
}
#inputbar {
    spacing:    0;
    background-color: @forest-orange;
    padding:    1px;
    border-radius: 12px 12px 0px 0px;
}
#scrollbar {
    background-color: @forest-input;
    width:         3px;
    border-radius: 6px;
}
#+end_src

