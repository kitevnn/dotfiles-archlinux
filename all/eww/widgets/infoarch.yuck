(defpoll packages :interval "2h" "pacman -Q | wc -l")

;; ===============================================
;; ç³»ç»Ÿæ¦‚è¦ä¿¡æ¯: widget-infoarch.yuck
;; ===============================================
(defwidget widget-infoarch []
           (box :class "infoarch"
                :orientation "h"
                :space-evenly "false"
                :spacing 7
                (infoarchuse)))

(defwidget infoarchuse []
           (box :orientation "h"
                :space-evenly "false"
	        :spacing 7
           (box :orientation "h"
                :space-evenly "false"
                :class "pacman-fetch-box"
                :spacing 8                
                (box :space-evenly "false"
                     (box :orientation "h"
                          :spacing 3
                          :halign "end"
                          :style "margin-left: 10px;"
                          (label :class "os-icon" 
                                 :halign "start"
                                 :text "ğŸ¹")))                                 
                (label :class "os-text"
                       :halign "start"
                       :text "Archlinux")
                (box :space-evenly "false"
                     (box :orientation "h"
                          :spacing 3
                          :halign "end"
                          :style "margin-left: 10px;"
                                 (label :class "pkgs-icon"
                                        :halign "start"
                                        :text "ó°–")))
                (label :class "pkgs-text"
                       :halign "start"
                       :tooltip "åŒ…æ€»æ•°æœ‰ ${packages} ä¸ª"  
                       :text packages)
                (box :orientation "h"
                     :class "pacman"
                     :hexpand true
                     (label :halign "start"
                            :class "pacman-icon"
                            :text "â†’")
                     (box :class "pacman-updates-box"
                          :space-evenly "false"
                                        (eventbox :cursor "pointer"
                                                  (button :class "pacman-updates"
                                                          :halign "start"
                                                          :tooltip "ç‚¹æˆ‘æ˜¯æ²¡ååº”çš„ï¼Œå› ä¸ºæˆ‘éƒ½æ²¡å†™å‘½ä»¤ä¸‹å»_(:Ğ·ã€âˆ )_"  
                                                           :onclick "" "BYTHEWAY"))))
                (box :space-evenly "false"
                     (box :orientation "h"
                          :spacing 3
                          :halign "end"
                          :style "margin-left: 10px;"
                                 (label :class "wm-icon"
                                        :halign "start"
                                        :text "ó±ª³")))
                (box :space-evenly "false"
                     (box :orientation "h"
                          :spacing 3
                          :halign "start"
                                  (label :class "wm-text"
                                         :halign "start"
                                         :text "i3wm-x11"))))))
